(()=>{var ra=Object.create;var rn=Object.defineProperty;var oa=Object.getOwnPropertyDescriptor;var na=Object.getOwnPropertyNames;var sa=Object.getPrototypeOf,aa=Object.prototype.hasOwnProperty;var x=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var ia=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of na(t))!aa.call(e,o)&&o!==r&&rn(e,o,{get:()=>t[o],enumerable:!(n=oa(t,o))||n.enumerable});return e};var k=(e,t,r)=>(r=e!=null?ra(sa(e)):{},ia(t||!e||!e.__esModule?rn(r,"default",{value:e,enumerable:!0}):r,e));var We=k(x("react"));var ct=k(x("react"));var on=ct.default.createContext({}),nn=({children:e,isProvided:t,...r})=>{let{replace:n}=de(),o=async p=>{var d;try{return await((d=r.login)==null?void 0:d.call(r,p))}catch(l){return Promise.reject(l)}},a=async p=>{var d;try{return await((d=r.register)==null?void 0:d.call(r,p))}catch(l){return Promise.reject(l)}},s=async p=>{var d;try{return await((d=r.logout)==null?void 0:d.call(r,p))}catch(l){return Promise.reject(l)}},u=async p=>{var d;try{return await((d=r.checkAuth)==null?void 0:d.call(r,p)),Promise.resolve()}catch(l){return l!=null&&l.redirectPath&&n(l.redirectPath),Promise.reject(l)}};return ct.default.createElement(on.Provider,{value:{...r,login:o,logout:s,checkAuth:u,register:a,isProvided:t}},e)},sn=ct.default.createContext({}),an=({children:e,isProvided:t,...r})=>{let n=async d=>{var l;try{return await((l=r.login)==null?void 0:l.call(r,d))}catch(c){return console.warn("Unhandled Error in login: refine always expects a resolved promise.",c),Promise.reject(c)}},o=async d=>{var l;try{return await((l=r.register)==null?void 0:l.call(r,d))}catch(c){return console.warn("Unhandled Error in register: refine always expects a resolved promise.",c),Promise.reject(c)}},a=async d=>{var l;try{return await((l=r.logout)==null?void 0:l.call(r,d))}catch(c){return console.warn("Unhandled Error in logout: refine always expects a resolved promise.",c),Promise.reject(c)}},s=async d=>{var l;try{let c=await((l=r.check)==null?void 0:l.call(r,d));return Promise.resolve(c)}catch(c){return console.warn("Unhandled Error in check: refine always expects a resolved promise.",c),Promise.reject(c)}},u=async d=>{var l;try{let c=await((l=r.forgotPassword)==null?void 0:l.call(r,d));return Promise.resolve(c)}catch(c){return console.warn("Unhandled Error in forgotPassword: refine always expects a resolved promise.",c),Promise.reject(c)}},p=async d=>{var l;try{let c=await((l=r.updatePassword)==null?void 0:l.call(r,d));return Promise.resolve(c)}catch(c){return console.warn("Unhandled Error in updatePassword: refine always expects a resolved promise.",c),Promise.reject(c)}};return ct.default.createElement(sn.Provider,{value:{...r,login:n,logout:a,check:s,register:o,forgotPassword:u,updatePassword:p,isProvided:t}},e)},ne=()=>ct.default.useContext(on),pe=()=>ct.default.useContext(sn);var Kr=x("@tanstack/react-query");function ua({v3LegacyAuthProviderCompatible:e=!1,options:t}={}){let{getPermissions:r}=ne(),{getPermissions:n}=pe(),o=(0,Kr.useQuery)(["usePermissions"],n??(()=>Promise.resolve(void 0)),{enabled:!e&&!!n,...e?{}:t}),a=(0,Kr.useQuery)(["usePermissions","v3LegacyAuthProviderCompatible"],r??(()=>Promise.resolve(void 0)),{enabled:e&&!!r,...e?t:{}});return e?a:o}var zr=x("@tanstack/react-query");function _r({v3LegacyAuthProviderCompatible:e=!1,queryOptions:t}={}){let{getUserIdentity:r}=ne(),{getIdentity:n}=pe(),o=(0,zr.useQuery)(["getUserIdentity"],n??(()=>Promise.resolve({})),{enabled:!e&&!!n,retry:!1,...e===!0?{}:t}),a=(0,zr.useQuery)(["getUserIdentity","v3LegacyAuthProviderCompatible"],r??(()=>Promise.resolve({})),{enabled:e&&!!r,retry:!1,...e?t:{}});return e?a:o}var Zr=x("@tanstack/react-query");var un=x("@tanstack/react-query"),xt=()=>{let e=(0,un.useQueryClient)();return async()=>{await Promise.all([e.invalidateQueries(["useAuthenticated"]),e.invalidateQueries(["getUserIdentity"]),e.invalidateQueries(["usePermissions"])])}};function or({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=xt(),n=j(),o=le(),{push:a}=de(),{open:s,close:u}=Ee(),{logout:p}=ne(),{logout:d}=pe(),l=(0,Zr.useMutation)(["useLogout"],d,{onSuccess:async(m,P)=>{let{success:C,error:h,redirectTo:D}=m,{redirectPath:g}=P??{},M=g??D;C&&(u==null||u("useLogout-error")),(h||!C)&&(s==null||s(jr(h))),await r(),M!==!1&&(n==="legacy"?a(M??"/login"):M&&o({to:M}))},onError:m=>{s==null||s(jr(m))},...e===!0?{}:t}),c=(0,Zr.useMutation)(["useLogout","v3LegacyAuthProviderCompatible"],p,{onSuccess:async(m,P)=>{let C=(P==null?void 0:P.redirectPath)??m;if(await r(),C!==!1){if(C){n==="legacy"?a(C):o({to:C});return}n==="legacy"?a("/login"):o({to:"/login"})}},onError:m=>{s==null||s(jr(m))},...e?t:{}});return e?c:l}var jr=e=>({key:"useLogout-error",type:"error",message:(e==null?void 0:e.name)||"Logout Error",description:(e==null?void 0:e.message)||"Something went wrong during logout"});var cn=k(x("react")),Jr=x("@tanstack/react-query"),pn=k(x("qs"));function wt({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=xt(),n=j(),o=le(),{replace:a}=de(),s=ye(),{useLocation:u}=se(),{search:p}=u(),{close:d,open:l}=Ee(),{login:c}=ne(),{login:m}=pe(),P=cn.default.useMemo(()=>{var D;return n==="legacy"?pn.default.parse(p,{ignoreQueryPrefix:!0}).to:(D=s.params)==null?void 0:D.to},[n,s.params,p]),C=(0,Jr.useMutation)(["useLogin"],m,{onSuccess:async({success:D,redirectTo:g,error:M})=>{D&&(d==null||d("login-error")),(M||!D)&&(l==null||l(Yr(M))),await r(),P&&D?n==="legacy"?a(P):o({to:P,type:"replace"}):g?n==="legacy"?a(g):o({to:g,type:"replace"}):n==="legacy"&&a("/")},onError:D=>{l==null||l(Yr(D))},...e===!0?{}:t}),h=(0,Jr.useMutation)(["useLogin","v3LegacyAuthProviderCompatible"],c,{onSuccess:async D=>{await r(),P&&a(P),D!==!1&&!P&&(typeof D=="string"?n==="legacy"?a(D):o({to:D,type:"replace"}):n==="legacy"?a("/"):o({to:"/",type:"replace"})),d==null||d("login-error")},onError:D=>{l==null||l(Yr(D))},...e?t:{}});return e?h:C}var Yr=e=>({message:(e==null?void 0:e.name)||"Login Error",description:(e==null?void 0:e.message)||"Invalid credentials",key:"login-error",type:"error"});var qr=x("@tanstack/react-query");function eo({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=xt(),n=j(),o=le(),{replace:a}=de(),{register:s}=ne(),{register:u}=pe(),{close:p,open:d}=Ee(),l=(0,qr.useMutation)(["useRegister"],u,{onSuccess:async({success:m,redirectTo:P,error:C})=>{m&&(p==null||p("register-error")),(C||!m)&&(d==null||d(Xr(C))),await r(),P?n==="legacy"?a(P):o({to:P,type:"replace"}):n==="legacy"&&a("/")},onError:m=>{d==null||d(Xr(m))},...e===!0?{}:t}),c=(0,qr.useMutation)(["useRegister","v3LegacyAuthProviderCompatible"],s,{onSuccess:async m=>{await r(),m!==!1&&(m?n==="legacy"?a(m):o({to:m,type:"replace"}):n==="legacy"?a("/"):o({to:"/",type:"replace"}),p==null||p("register-error"))},onError:m=>{d==null||d(Xr(m))},...e?t:{}});return e?c:l}var Xr=e=>({message:(e==null?void 0:e.name)||"Register Error",description:(e==null?void 0:e.message)||"Error while registering",key:"register-error",type:"error"});var ro=x("@tanstack/react-query");function oo({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=j(),n=le(),{replace:o}=de(),{forgotPassword:a}=ne(),{forgotPassword:s}=pe(),{close:u,open:p}=Ee(),d=(0,ro.useMutation)(["useForgotPassword"],s,{onSuccess:({success:c,redirectTo:m,error:P})=>{c&&(u==null||u("forgot-password-error")),(P||!c)&&(p==null||p(to(P))),m&&(r==="legacy"?o(m):n({to:m,type:"replace"}))},onError:c=>{p==null||p(to(c))},...e===!0?{}:t}),l=(0,ro.useMutation)(["useForgotPassword","v3LegacyAuthProviderCompatible"],a,{onSuccess:c=>{c!==!1&&c&&(r==="legacy"?o(c):n({to:c,type:"replace"})),u==null||u("forgot-password-error")},onError:c=>{p==null||p(to(c))},...e?t:{}});return e?l:d}var to=e=>({message:(e==null?void 0:e.name)||"Forgot Password Error",description:(e==null?void 0:e.message)||"Error while resetting password",key:"forgot-password-error",type:"error"});var dn=k(x("react")),so=x("@tanstack/react-query"),ln=k(x("qs"));function ao({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=j(),n=le(),{replace:o}=de(),{updatePassword:a}=ne(),{updatePassword:s}=pe(),{close:u,open:p}=Ee(),d=ye(),{useLocation:l}=se(),{search:c}=l(),m=dn.default.useMemo(()=>r==="legacy"?ln.default.parse(c,{ignoreQueryPrefix:!0})??{}:d.params??{},[c,d,r]),P=(0,so.useMutation)(["useUpdatePassword"],async h=>s==null?void 0:s({...m,...h}),{onSuccess:({success:h,redirectTo:D,error:g})=>{h&&(u==null||u("update-password-error")),(g||!h)&&(p==null||p(no(g))),D&&(r==="legacy"?o(D):n({to:D,type:"replace"}))},onError:h=>{p==null||p(no(h))},...e===!0?{}:t}),C=(0,so.useMutation)(["useUpdatePassword","v3LegacyAuthProviderCompatible"],async h=>a==null?void 0:a({...m,...h}),{onSuccess:h=>{h!==!1&&h&&(r==="legacy"?o(h):n({to:h,type:"replace"})),u==null||u("update-password-error")},onError:h=>{p==null||p(no(h))},...e?t:{}});return e?C:P}var no=e=>({message:(e==null?void 0:e.name)||"Update Password Error",description:(e==null?void 0:e.message)||"Error while updating password",key:"update-password-error",type:"error"});var io=x("@tanstack/react-query");function nr({v3LegacyAuthProviderCompatible:e=!1,params:t}={}){let{checkAuth:r}=ne(),{check:n}=pe(),o=(0,io.useQuery)(["useAuthenticated",t],async()=>await(n==null?void 0:n(t))??{},{retry:!1,enabled:!e}),a=(0,io.useQuery)(["useAuthenticated",t,"v3LegacyAuthProviderCompatible"],async()=>await(r==null?void 0:r(t))??{},{retry:!1,enabled:e});return e?a:o}var ca=nr;var uo=x("@tanstack/react-query");function ae({v3LegacyAuthProviderCompatible:e=!1}={}){let t=j(),r=le(),{replace:n}=de(),{checkError:o}=ne(),{onError:a}=pe(),{mutate:s}=or({v3LegacyAuthProviderCompatible:!!e}),{mutate:u}=or({v3LegacyAuthProviderCompatible:!!e}),p=(0,uo.useMutation)(["useCheckError"],a,{onSuccess:({logout:l,redirectTo:c})=>{if(l){u({redirectPath:c});return}if(c){t==="legacy"?n(c):r({to:c,type:"replace"});return}}}),d=(0,uo.useMutation)(["useCheckError","v3LegacyAuthProviderCompatible"],o,{onError:l=>{s({redirectPath:l})}});return e?d:p}var pa=ae;var co=()=>{let{isProvided:e}=ne(),{isProvided:t}=pe();return!!(t||e)};var wn=x("@tanstack/react-query");var St=e=>e/1e3;var mn=k(x("lodash/zip")),fn=k(x("lodash/fromPairs")),sr=(e,t=r=>r)=>{let[r,...n]=e;return n.map(o=>(0,fn.default)((0,mn.default)(r,o))).map((o,a,s)=>t.call(void 0,o,a,s))};var mo=k(x("pluralize"));var ar=k(x("qs")),po=k(x("lodash/unionWith")),lo=k(x("lodash/differenceWith")),yn=k(x("warn-once"));var ir=e=>{let{current:t,pageSize:r,sorter:n,sorters:o,filters:a}=ar.default.parse(e.substring(1));return{parsedCurrent:t&&Number(t),parsedPageSize:r&&Number(r),parsedSorter:I(o,n)??[],parsedFilters:a??[]}},da=e=>{let t=ar.default.stringify(e);return ir(`/${t}`)},ur=e=>{let t={skipNulls:!0,arrayFormat:"indices",encode:!1},{pagination:r,sorter:n,sorters:o,filters:a,...s}=e;return ar.default.stringify({...s,...r||{},sorters:I(o,n),filters:a},t)},gn=(e,t)=>e.operator!=="and"&&e.operator!=="or"&&t.operator!=="and"&&t.operator!=="or"?("field"in e?e.field:void 0)==("field"in t?t.field:void 0)&&e.operator==t.operator:("key"in e?e.key:void 0)==("key"in t?t.key:void 0)&&e.operator==t.operator,Tn=(e,t)=>e.field==t.field,Ct=(e,t,r=[])=>(t.filter(o=>(o.operator==="or"||o.operator==="and")&&!o.key).length>1&&(0,yn.default)(!0,`[conditionalFilters]: You have created multiple Conditional Filters at the top level, this requires the key parameter. 
For more information, see https://refine.dev/docs/advanced-tutorials/data-provider/handling-filters/#top-level-multiple-conditional-filters-usage`),(0,po.default)(e,t,r,gn).filter(o=>o.value!==void 0&&o.value!==null&&(o.operator!=="or"||o.operator==="or"&&o.value.length!==0)&&(o.operator!=="and"||o.operator==="and"&&o.value.length!==0))),cr=(e,t)=>(0,po.default)(e,t,Tn).filter(r=>r.order!==void 0&&r.order!==null),pr=(e,t)=>[...(0,lo.default)(t,e,gn),...e],dr=(e,t)=>[...(0,lo.default)(t,e,Tn),...e],la=(e,t)=>{if(!t)return;let r=t.find(n=>n.field===e);if(r)return r.order},ma=(e,t,r="eq")=>{let n=t==null?void 0:t.find(o=>{if(o.operator!=="or"&&o.operator!=="and"&&"field"in o){let{operator:a,field:s}=o;return s===e&&a===r}});if(n)return n.value||[]};var fa=e=>new Promise((t,r)=>{let n=new FileReader,o=()=>{n.result&&(n.removeEventListener("load",o,!1),t(n.result))};n.addEventListener("load",o,!1),n.readAsDataURL(e.originFileObj),n.onerror=a=>(n.removeEventListener("load",o,!1),r(a))});var lr=(e="",t)=>{let r=At(e);return t==="singular"?mo.default.singular(r):mo.default.plural(r)};var Rn=(e={})=>e!=null&&e.id?{...e,id:decodeURIComponent(e.id)}:e;var I=(...e)=>e.find(t=>typeof t<"u");var re=(e,t,r,n)=>{let o=t||"default",a={all:[o],resourceAll:[o,e||""],list:s=>[...a.resourceAll,"list",{...s,...I(r,n)||{}}],many:s=>[...a.resourceAll,"getMany",s&&s.map(String),{...I(r,n)||{}}].filter(u=>u!==void 0),detail:s=>[...a.resourceAll,"detail",s==null?void 0:s.toString(),{...I(r,n)||{}}],logList:s=>["logList",e,s,n].filter(u=>u!==void 0)};return a};var fo=(e,t)=>!e||!t?!1:!!e.find(r=>r===t);var pt=e=>e.startsWith(":");var Oe=e=>e.split("/").filter(r=>r!=="");var yo=(e,t)=>{let r=Oe(e),n=Oe(t);return r.length===n.length};var Ce=e=>e.replace(/^\/|\/$/g,"");var go=(e,t)=>{let r=Ce(e),n=Ce(t);if(!yo(r,n))return!1;let o=Oe(r);return Oe(n).every((s,u)=>pt(s)||s===o[u])};var To=(e,t,r)=>{let n=Ce(r||""),o=`${n}${n?"/":""}${e}`;return t==="list"?o=`${o}`:t==="create"?o=`${o}/create`:t==="edit"?o=`${o}/edit/:id`:t==="show"?o=`${o}/show/:id`:t==="clone"&&(o=`${o}/clone/:id`),`/${o.replace(/^\//,"")}`};var Ie=(e,t)=>{var o,a;let r=I((o=e.meta)==null?void 0:o.parent,(a=e.options)==null?void 0:a.parent,e.parentName);return r?t.find(s=>(s.identifier??s.name)===r)??{name:r}:void 0};var Ft=(e,t,r)=>{let n=[],o=Ie(e,t);for(;o;)n.push(o),o=Ie(o,t);if(n.length!==0)return`/${n.reverse().map(a=>{var u;let s=r?((u=a.options)==null?void 0:u.route)??a.name:a.name;return Ce(s)}).join("/")}`};var Re=(e,t,r)=>{let n=[],o=["list","show","edit","create","clone"],a=Ft(e,t,r);return o.forEach(s=>{var d,l;let u=r&&s==="clone"?e.create:e[s],p;typeof u=="function"||r?p=To(r?((d=e.meta)==null?void 0:d.route)??((l=e.options)==null?void 0:l.route)??e.name:e.name,s,r?a:void 0):typeof u=="string"?p=u:typeof u=="object"&&(p=u.path),p&&n.push({action:s,resource:e,route:`/${p.replace(/^\//,"")}`})}),n};var Pn=e=>{var o;if(e.length===0)return;if(e.length===1)return e[0];let t=e.map(a=>({...a,splitted:Oe(Ce(a.route))})),r=((o=t[0])==null?void 0:o.splitted.length)??0,n=[...t];for(let a=0;a<r;a++){let s=n.filter(u=>!pt(u.splitted[a]));if(s.length!==0){if(s.length===1){n=s;break}n=s}}return n[0]};var Ro=(e,t)=>{let n=t.flatMap(a=>Re(a,t)).filter(a=>go(e,a.route)),o=Pn(n);return{found:!!o,resource:o==null?void 0:o.resource,action:o==null?void 0:o.action,matchedRoute:o==null?void 0:o.route}};var mr=(e,t)=>{var o;let r,n=Ft(e,t,!0);if(n){let a=I(e.meta,e.options);r=`${n}/${(a==null?void 0:a.route)??e.name}`}else r=((o=e.options)==null?void 0:o.route)??e.name;return`/${r.replace(/^\//,"")}`};var xn=e=>{var s;let t=[],r={},n={},o,a;for(let u=0;u<e.length;u++){o=e[u];let p=o.route??((s=I(o==null?void 0:o.meta,o.options))==null?void 0:s.route)??"";r[p]=o,r[p].children=[],n[o.name]=o,n[o.name].children=[]}for(let u in r)r.hasOwnProperty(u)&&(a=r[u],a.parentName&&n[a.parentName]?n[a.parentName].children.push(a):t.push(a));return t};var At=e=>(e=e.replace(/([a-z]{1})([A-Z]{1})/g,"$1-$2"),e=e.replace(/([A-Z]{1})([A-Z]{1})([a-z]{1})/g,"$1-$2$3"),e=e.toLowerCase().replace(/[_-]+/g," ").replace(/\s{2,}/g," ").trim(),e=e.charAt(0).toUpperCase()+e.slice(1),e);var Co=k(x("react")),xo=k(x("pluralize"));var Cn=k(x("react")),Po=({children:e})=>Cn.default.createElement("div",null,e);var Ue={mutationMode:"pessimistic",syncWithLocation:!1,undoableTimeout:5e3,warnWhenUnsavedChanges:!1,liveMode:"off",redirect:{afterCreate:"list",afterClone:"list",afterEdit:"list"},overtime:{interval:1e3},textTransformers:{humanize:At,plural:xo.default.plural,singular:xo.default.singular}},be=Co.default.createContext({hasDashboard:!1,mutationMode:"pessimistic",warnWhenUnsavedChanges:!1,syncWithLocation:!1,undoableTimeout:5e3,Title:void 0,Sider:void 0,Header:void 0,Footer:void 0,Layout:Po,OffLayoutArea:void 0,liveMode:"off",onLiveEvent:void 0,options:Ue}),hn=({hasDashboard:e,mutationMode:t,warnWhenUnsavedChanges:r,syncWithLocation:n,undoableTimeout:o,children:a,DashboardPage:s,Title:u,Layout:p=Po,Header:d,Sider:l,Footer:c,OffLayoutArea:m,LoginPage:P=ho,catchAll:C,liveMode:h="off",onLiveEvent:D,options:g})=>Co.default.createElement(be.Provider,{value:{hasDashboard:e,mutationMode:t,warnWhenUnsavedChanges:r,syncWithLocation:n,Title:u,undoableTimeout:o,Layout:p,Header:d,Sider:l,Footer:c,OffLayoutArea:m,DashboardPage:s,LoginPage:P,catchAll:C,liveMode:h,onLiveEvent:D,options:g}},a);var bo=({options:e,disableTelemetry:t,liveMode:r,mutationMode:n,reactQueryClientConfig:o,reactQueryDevtoolConfig:a,syncWithLocation:s,undoableTimeout:u,warnWhenUnsavedChanges:p}={})=>{var m,P,C,h,D,g,M,A;let d={breadcrumb:e==null?void 0:e.breadcrumb,mutationMode:(e==null?void 0:e.mutationMode)??n??Ue.mutationMode,undoableTimeout:(e==null?void 0:e.undoableTimeout)??u??Ue.undoableTimeout,syncWithLocation:(e==null?void 0:e.syncWithLocation)??s??Ue.syncWithLocation,warnWhenUnsavedChanges:(e==null?void 0:e.warnWhenUnsavedChanges)??p??Ue.warnWhenUnsavedChanges,liveMode:(e==null?void 0:e.liveMode)??r??Ue.liveMode,redirect:{afterCreate:((m=e==null?void 0:e.redirect)==null?void 0:m.afterCreate)??Ue.redirect.afterCreate,afterClone:((P=e==null?void 0:e.redirect)==null?void 0:P.afterClone)??Ue.redirect.afterClone,afterEdit:((C=e==null?void 0:e.redirect)==null?void 0:C.afterEdit)??Ue.redirect.afterEdit},overtime:(e==null?void 0:e.overtime)??Ue.overtime,textTransformers:{humanize:((h=e==null?void 0:e.textTransformers)==null?void 0:h.humanize)??Ue.textTransformers.humanize,plural:((D=e==null?void 0:e.textTransformers)==null?void 0:D.plural)??Ue.textTransformers.plural,singular:((g=e==null?void 0:e.textTransformers)==null?void 0:g.singular)??Ue.textTransformers.singular}},l=(e==null?void 0:e.disableTelemetry)??t??!1,c={clientConfig:((M=e==null?void 0:e.reactQuery)==null?void 0:M.clientConfig)??o??{},devtoolConfig:((A=e==null?void 0:e.reactQuery)==null?void 0:A.devtoolConfig)??a??{}};return{optionsWithDefaults:d,disableTelemetryWithDefault:l,reactQueryWithDefaults:c}};var vo=({redirectFromProps:e,action:t,redirectOptions:r})=>{if(e||e===!1)return e;switch(t){case"clone":return r.afterClone;case"create":return r.afterCreate;case"edit":return r.afterEdit;default:return!1}};var fr=async(e,t,r)=>{let n=[];for(let[o,a]of e.entries())try{let s=await a();n.push(t(s,o))}catch(s){n.push(r(s,o))}return n};var me=(e,t=[],r=!1)=>{if(!e)return;if(r){let o=t.find(s=>Ce(s.route??"")===Ce(e));return o||t.find(s=>s.name===e)}let n=t.find(o=>o.identifier===e);return n||(n=t.find(o=>o.name===e)),n};var O=(e,t,r)=>{if(t)return t;let n=me(e,r),o=I(n==null?void 0:n.meta,n==null?void 0:n.options);return o!=null&&o.dataProviderName?o.dataProviderName:"default"};var _e=async e=>({data:(await Promise.all(e)).map(t=>t.data)});var yr=e=>{let{pagination:t,cursor:r}=e;if(r!=null&&r.next)return r.next;let n=(t==null?void 0:t.current)||1,o=(t==null?void 0:t.pageSize)||10,a=Math.ceil((e.total||0)/o);return n<a?Number(n)+1:void 0},gr=e=>{let{pagination:t,cursor:r}=e;if(r!=null&&r.prev)return r.prev;let n=(t==null?void 0:t.current)||1;return n===1?void 0:n-1};var Tr=e=>{let t=[];return e.forEach(r=>{var n,o;t.push({...r,label:((n=r.meta)==null?void 0:n.label)??((o=r.options)==null?void 0:o.label),route:mr(r,e),canCreate:!!r.create,canEdit:!!r.edit,canShow:!!r.show,canDelete:r.canDelete})}),t};var bn=e=>Oe(Ce(e)).flatMap(r=>pt(r)?[r.slice(1)]:[]);var vn=(e,t={})=>e.reduce((r,n)=>{let o=t[n];return typeof o<"u"&&(r[n]=o),r},{});var he=(e,t={},r={},n={})=>{let o=bn(e),a=vn(o,{...t,...typeof(r==null?void 0:r.id)<"u"?{id:r.id}:{},...typeof(r==null?void 0:r.action)<"u"?{action:r.action}:{},...typeof(r==null?void 0:r.resource)<"u"?{resource:r.resource}:{},...r==null?void 0:r.params,...n});return e.replace(/:([^\/]+)/g,(s,u)=>{let p=a[u];return typeof p<"u"?`${p}`:s})};var z=()=>{let e=ne(),t=pe();return t.isProvided?{isLegacy:!1,...t}:e.isProvided?{isLegacy:!0,...e,check:e.checkAuth,onError:e.checkError,getIdentity:e.getUserIdentity}:null};var Qt=({hasPagination:e,pagination:t,configPagination:r}={})=>{let n=e===!1?"off":"server",o=(t==null?void 0:t.mode)??n,a=I(t==null?void 0:t.current,r==null?void 0:r.current)??1,s=I(t==null?void 0:t.pageSize,r==null?void 0:r.pageSize)??10;return{current:a,pageSize:s,mode:o}};var Rr=x("react"),Pr=e=>{let[t,r]=(0,Rr.useState)(!1);return(0,Rr.useEffect)(()=>{let n=window.matchMedia(e);n.matches!==t&&r(n.matches);let o=()=>r(n.matches);return window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[t,e]),t};var xr=(e,t,r,n)=>{let o=n?e(t,n,r):e(t,r),a=r??t;return o===t||typeof o>"u"?a:o};function Dn(e,t,r,n,o){var m;let a={create:"Create new ",clone:`#${n??""} Clone `,edit:`#${n??""} Edit `,show:`#${n??""} Show `,list:""},s=(t==null?void 0:t.identifier)??(t==null?void 0:t.name),u=(t==null?void 0:t.label)??((m=t==null?void 0:t.meta)==null?void 0:m.label)??lr(s,r==="list"?"plural":"singular"),p=o??u,d=xr(e,"documentTitle.default","refine"),l=xr(e,"documentTitle.suffix"," | refine"),c=d;return r&&s&&(c=xr(e,`documentTitle.${s}.${r}`,`${a[r]??""}${p}${l}`,{id:n})),c}var Ln=x("react");var Ne=()=>{let{mutationMode:e,undoableTimeout:t}=(0,Ln.useContext)(be);return{mutationMode:e,undoableTimeout:t}};var Lo=x("react");var kt=k(x("react")),Do=kt.default.createContext({}),En=({children:e})=>{let[t,r]=(0,kt.useState)(!1);return kt.default.createElement(Do.Provider,{value:{warnWhen:t,setWarnWhen:r}},e)};var Vt=()=>{let{warnWhenUnsavedChanges:e}=(0,Lo.useContext)(be),{warnWhen:t,setWarnWhen:r}=(0,Lo.useContext)(Do);return{warnWhenUnsavedChanges:e,warnWhen:!!t,setWarnWhen:r??(()=>{})}};var Un=x("react");var Eo=()=>{let{syncWithLocation:e}=(0,Un.useContext)(be);return{syncWithLocation:e}};var Mn=x("react");var ya=()=>{let{Title:e}=(0,Mn.useContext)(be);return e};var In=x("react");var ce=()=>{let{Footer:e,Header:t,Layout:r,OffLayoutArea:n,Sider:o,Title:a,hasDashboard:s,mutationMode:u,syncWithLocation:p,undoableTimeout:d,warnWhenUnsavedChanges:l,DashboardPage:c,LoginPage:m,catchAll:P,options:C}=(0,In.useContext)(be);return{Footer:e,Header:t,Layout:r,OffLayoutArea:n,Sider:o,Title:a,hasDashboard:s,mutationMode:u,syncWithLocation:p,undoableTimeout:d,warnWhenUnsavedChanges:l,DashboardPage:c,LoginPage:m,catchAll:P,options:C}};var ht=()=>{let{options:{textTransformers:e}}=ce();return(r="",n)=>{let o=e.humanize(r);return n==="singular"?e.singular(o):e.plural(o)}};var Bt=x("react");var Z=({isLoading:e,interval:t,onInterval:r})=>{let[n,o]=(0,Bt.useState)(void 0),{options:a}=ce(),{overtime:s}=a,u=t??s.interval,p=r??(s==null?void 0:s.onInterval);return(0,Bt.useEffect)(()=>{let d;return e&&(d=setInterval(()=>{o(l=>l===void 0?u:l+u)},u)),()=>{clearInterval(d),o(void 0)}},[e,u]),(0,Bt.useEffect)(()=>{p&&n&&p(n)},[n]),{elapsedTime:n}};var Nt=({resource:e,config:t,filters:r,hasPagination:n,pagination:o,sorters:a,queryOptions:s,successNotification:u,errorNotification:p,meta:d,metaData:l,liveMode:c,onLiveEvent:m,liveParams:P,dataProviderName:C,overtimeOptions:h})=>{let{resources:D,resource:g,identifier:M}=B(e),A=q(),b=H(),i=z(),{mutate:f}=ae({v3LegacyAuthProviderCompatible:!!(i!=null&&i.isLegacy)}),R=ie(),v=_(),T=O(M,C,D),y=I(d,l),L=I(r,t==null?void 0:t.filters),E=I(a,t==null?void 0:t.sort),F=I(n,t==null?void 0:t.hasPagination),S=Qt({pagination:o,configPagination:t==null?void 0:t.pagination,hasPagination:F}),U=S.mode==="server",w=v({resource:g,meta:y}),Q={meta:w,metaData:w,filters:L,hasPagination:U,pagination:S,sorters:E,config:{...t,sort:E}},N=(s==null?void 0:s.enabled)===void 0||(s==null?void 0:s.enabled)===!0,G=re(M,T,y),{getList:K}=A(T);rt({resource:M,types:["*"],params:{meta:w,metaData:w,pagination:S,hasPagination:U,sort:E,sorters:E,filters:L,subscriptionType:"useList",...P},channel:`resources/${g==null?void 0:g.name}`,enabled:N,liveMode:c,onLiveEvent:m});let ee=(0,wn.useQuery)(G.list({filters:L,hasPagination:U,...U&&{pagination:S},...a&&{sorters:a},...(t==null?void 0:t.sort)&&{sort:t==null?void 0:t.sort}}),({queryKey:V,pageParam:W,signal:$})=>K({resource:(g==null?void 0:g.name)??"",pagination:S,hasPagination:U,filters:L,sort:E,sorters:E,meta:{...w,queryContext:{queryKey:V,pageParam:W,signal:$}},metaData:{...w,queryContext:{queryKey:V,pageParam:W,signal:$}}}),{...s,enabled:typeof(s==null?void 0:s.enabled)<"u"?s==null?void 0:s.enabled:!!(g!=null&&g.name),select:V=>{var Pe;let W=V,{current:$,mode:X,pageSize:ue}=S;return X==="client"&&(W={...W,data:W.data.slice(($-1)*ue,$*ue),total:W.total}),s!=null&&s.select?(Pe=s==null?void 0:s.select)==null?void 0:Pe.call(s,W):W},onSuccess:V=>{var $;($=s==null?void 0:s.onSuccess)==null||$.call(s,V);let W=typeof u=="function"?u(V,Q,M):u;R(W)},onError:V=>{var $;f(V),($=s==null?void 0:s.onError)==null||$.call(s,V);let W=typeof p=="function"?p(V,Q,M):p;R(W,{key:`${M}-useList-notification`,message:b("notifications.error",{statusCode:V.statusCode},`Error (status code: ${V.statusCode})`),description:V.message,type:"error"})}}),{elapsedTime:J}=Z({isLoading:ee.isFetching,interval:h==null?void 0:h.interval,onInterval:h==null?void 0:h.onInterval});return{...ee,overtime:{elapsedTime:J}}};var Sn=x("@tanstack/react-query");var Ht=({resource:e,id:t,queryOptions:r,successNotification:n,errorNotification:o,meta:a,metaData:s,liveMode:u,onLiveEvent:p,liveParams:d,dataProviderName:l,overtimeOptions:c})=>{let{resources:m,resource:P,identifier:C}=B(e),h=q(),D=H(),g=z(),{mutate:M}=ae({v3LegacyAuthProviderCompatible:!!(g!=null&&g.isLegacy)}),A=ie(),b=_(),i=I(a,s),f=O(C,l,m),R=re(C,f,i),{getOne:v}=h(f),T=b({resource:P,meta:i});rt({resource:C,types:["*"],channel:`resources/${P==null?void 0:P.name}`,params:{ids:t?[t]:[],id:t,meta:T,metaData:T,subscriptionType:"useOne",...d},enabled:typeof(r==null?void 0:r.enabled)<"u"?r==null?void 0:r.enabled:typeof(P==null?void 0:P.name)<"u"&&typeof t<"u",liveMode:u,onLiveEvent:p});let y=(0,Sn.useQuery)(R.detail(t),({queryKey:E,pageParam:F,signal:S})=>v({resource:(P==null?void 0:P.name)??"",id:t,meta:{...T,queryContext:{queryKey:E,pageParam:F,signal:S}},metaData:{...T,queryContext:{queryKey:E,pageParam:F,signal:S}}}),{...r,enabled:typeof(r==null?void 0:r.enabled)<"u"?r==null?void 0:r.enabled:typeof t<"u",onSuccess:E=>{var S;(S=r==null?void 0:r.onSuccess)==null||S.call(r,E);let F=typeof n=="function"?n(E,{id:t,...T},C):n;A(F)},onError:E=>{var S;M(E),(S=r==null?void 0:r.onError)==null||S.call(r,E);let F=typeof o=="function"?o(E,{id:t,...T},C):o;A(F,{key:`${t}-${C}-getOne-notification`,message:D("notifications.error",{statusCode:E.statusCode},`Error (status code: ${E.statusCode})`),description:E.message,type:"error"})}}),{elapsedTime:L}=Z({isLoading:y.isFetching,interval:c==null?void 0:c.interval,onInterval:c==null?void 0:c.onInterval});return{...y,overtime:{elapsedTime:L}}};var An=x("@tanstack/react-query");var Uo=({resource:e,ids:t,queryOptions:r,successNotification:n,errorNotification:o,meta:a,metaData:s,liveMode:u,onLiveEvent:p,liveParams:d,dataProviderName:l,overtimeOptions:c})=>{let{resources:m,resource:P,identifier:C}=B(e),h=q(),D=H(),g=z(),{mutate:M}=ae({v3LegacyAuthProviderCompatible:!!(g!=null&&g.isLegacy)}),A=ie(),b=_(),i=I(a,s),f=O(C,l,m),R=(r==null?void 0:r.enabled)===void 0||(r==null?void 0:r.enabled)===!0,v=re(C,f,i),{getMany:T,getOne:y}=h(f),L=b({resource:P,meta:i});rt({resource:C,types:["*"],params:{ids:t,meta:L,metaData:L,subscriptionType:"useMany",...d},channel:`resources/${P.name}`,enabled:R,liveMode:u,onLiveEvent:p});let E=(0,An.useQuery)(v.many(t),({queryKey:S,pageParam:U,signal:w})=>T?T({resource:P==null?void 0:P.name,ids:t,meta:{...L,queryContext:{queryKey:S,pageParam:U,signal:w}},metaData:{...L,queryContext:{queryKey:S,pageParam:U,signal:w}}}):_e(t.map(Q=>y({resource:P==null?void 0:P.name,id:Q,meta:{...L,queryContext:{queryKey:S,pageParam:U,signal:w}},metaData:{...L,queryContext:{queryKey:S,pageParam:U,signal:w}}}))),{...r,onSuccess:S=>{var w;(w=r==null?void 0:r.onSuccess)==null||w.call(r,S);let U=typeof n=="function"?n(S,t,C):n;A(U)},onError:S=>{var w;M(S),(w=r==null?void 0:r.onError)==null||w.call(r,S);let U=typeof o=="function"?o(S,t,C):o;A(U,{key:`${t[0]}-${C}-getMany-notification`,message:D("notifications.error",{statusCode:S.statusCode},`Error (status code: ${S.statusCode})`),description:S.message,type:"error"})}}),{elapsedTime:F}=Z({isLoading:E.isFetching,interval:c==null?void 0:c.interval,onInterval:c==null?void 0:c.onInterval});return{...E,overtime:{elapsedTime:F}}};var br=x("@tanstack/react-query");var bt=k(x("react")),Cr=k(x("lodash-es/isEqual"));var hr=bt.default.createContext({notifications:[],notificationDispatch:()=>!1}),ga=[],Ta=(e,t)=>{switch(t.type){case"ADD":return[...e.filter(n=>!((0,Cr.default)(n.id,t.payload.id)&&n.resource==t.payload.resource)),{...t.payload,isRunning:!0}];case"REMOVE":return e.filter(n=>!((0,Cr.default)(n.id,t.payload.id)&&n.resource==t.payload.resource));case"DECREASE_NOTIFICATION_SECOND":return e.map(n=>(0,Cr.default)(n.id,t.payload.id)&&n.resource==t.payload.resource?{...n,seconds:t.payload.seconds-1e3}:n);default:return e}},Mo=({children:e})=>{let[t,r]=(0,bt.useReducer)(Ta,ga),n={notifications:t,notificationDispatch:r};return bt.default.createElement(hr.Provider,{value:n},e,typeof window<"u"&&t.map(o=>bt.default.createElement(Fn,{key:`${o.id}-${o.resource}-queue`,notification:o})))};var Io=({mutationOptions:e,overtimeOptions:t}={})=>{let{resources:r,select:n}=B(),o=(0,br.useQueryClient)(),a=q(),{mutationMode:s,undoableTimeout:u}=Ne(),p=H(),d=z(),{mutate:l}=ae({v3LegacyAuthProviderCompatible:!!(d!=null&&d.isLegacy)}),c=Qe(),{log:m}=ke(),{notificationDispatch:P}=$e(),C=ie(),h=Ve(),D=_(),{options:{textTransformers:g}}=ce(),M=(0,br.useMutation)(({id:b,values:i,resource:f,mutationMode:R,undoableTimeout:v,onCancel:T,meta:y,metaData:L,dataProviderName:E})=>{let{resource:F,identifier:S}=n(f),U=D({resource:F,meta:I(y,L)}),w=R??s,Q=v??u;return w!=="undoable"?a(O(S,E,r)).update({resource:F.name,id:b,variables:i,meta:U,metaData:U}):new Promise((G,K)=>{let ee=()=>{a(O(S,E,r)).update({resource:F.name,id:b,variables:i,meta:U,metaData:U}).then(V=>G(V)).catch(V=>K(V))},J=()=>{K({message:"mutationCancelled"})};T&&T(J),P({type:"ADD",payload:{id:b,resource:S,cancelMutation:J,doMutation:ee,seconds:Q,isSilent:!!T}})})},{onMutate:async({resource:b,id:i,mutationMode:f,values:R,dataProviderName:v,meta:T,metaData:y})=>{let{identifier:L}=n(b),E=I(T,y),F=re(L,O(L,v,r),E),S=o.getQueriesData(F.resourceAll),U=f??s;return await o.cancelQueries(F.resourceAll,void 0,{silent:!0}),U!=="pessimistic"&&(o.setQueriesData(F.list(),w=>{if(!w)return null;let Q=w.data.map(N=>{var G;return((G=N.id)==null?void 0:G.toString())===(i==null?void 0:i.toString())?{id:i,...N,...R}:N});return{...w,data:Q}}),o.setQueriesData(F.many(),w=>{if(!w)return null;let Q=w.data.map(N=>{var G;return((G=N.id)==null?void 0:G.toString())===(i==null?void 0:i.toString())&&(N={id:i,...N,...R}),N});return{...w,data:Q}}),o.setQueriesData(F.detail(i),w=>w?{...w,data:{...w.data,...R}}:null)),{previousQueries:S,queryKey:F}},onSettled:(b,i,{id:f,resource:R,dataProviderName:v,invalidates:T=["list","many","detail"]})=>{let{identifier:y}=n(R);h({resource:y,dataProviderName:O(y,v,r),invalidates:T,id:f}),P({type:"REMOVE",payload:{id:f,resource:y}})},onSuccess:(b,{id:i,resource:f,successNotification:R,dataProviderName:v,values:T,meta:y,metaData:L},E)=>{var J;let{resource:F,identifier:S}=n(f),U=g.singular(S),w=typeof R=="function"?R(b,{id:i,values:T},S):R;C(w,{key:`${i}-${S}-notification`,description:p("notifications.success","Successful"),message:p("notifications.editSuccess",{resource:p(`${S}.${S}`,U)},`Successfully updated ${U}`),type:"success"}),c==null||c({channel:`resources/${F.name}`,type:"updated",payload:{ids:(J=b.data)!=null&&J.id?[b.data.id]:void 0},date:new Date});let Q;if(E){let V=o.getQueryData(E.queryKey.detail(i));Q=Object.keys(T||{}).reduce((W,$)=>{var X;return W[$]=(X=V==null?void 0:V.data)==null?void 0:X[$],W},{})}let{fields:N,operation:G,variables:K,...ee}=I(y,L)||{};m==null||m.mutate({action:"update",resource:F.name,data:T,previousData:Q,meta:{id:i,dataProviderName:O(S,v,r),...ee}})},onError:(b,{id:i,resource:f,errorNotification:R,values:v},T)=>{let{identifier:y}=n(f);if(T)for(let L of T.previousQueries)o.setQueryData(L[0],L[1]);if(b.message!=="mutationCancelled"){l==null||l(b);let L=g.singular(y),E=typeof R=="function"?R(b,{id:i,values:v},y):R;C(E,{key:`${i}-${y}-notification`,message:p("notifications.editError",{resource:p(`${y}.${y}`,L),statusCode:b.statusCode},`Error when updating ${L} (status code: ${b.statusCode})`),description:b.message,type:"error"})}},...e}),{elapsedTime:A}=Z({isLoading:M.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...M,overtime:{elapsedTime:A}}};var Qn=x("@tanstack/react-query");var Ot=({mutationOptions:e,overtimeOptions:t}={})=>{let r=z(),{mutate:n}=ae({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),o=q(),a=Ve(),{resources:s,select:u}=B(),p=H(),d=Qe(),{log:l}=ke(),c=ie(),m=_(),{options:{textTransformers:P}}=ce(),C=(0,Qn.useMutation)(({resource:D,values:g,meta:M,metaData:A,dataProviderName:b})=>{let{resource:i,identifier:f}=u(D),R=m({resource:i,meta:I(M,A)});return o(O(f,b,s)).create({resource:i.name,variables:g,meta:R,metaData:R})},{onSuccess:(D,{resource:g,successNotification:M,dataProviderName:A,invalidates:b=["list","many"],values:i,meta:f,metaData:R})=>{var Q,N;let{resource:v,identifier:T}=u(g),y=P.singular(T),L=typeof M=="function"?M(D,i,T):M;c(L,{key:`create-${T}-notification`,message:p("notifications.createSuccess",{resource:p(`${T}.${T}`,y)},`Successfully created ${y}`),description:p("notifications.success","Success"),type:"success"}),a({resource:T,dataProviderName:O(T,A,s),invalidates:b}),d==null||d({channel:`resources/${v.name}`,type:"created",payload:{ids:(Q=D==null?void 0:D.data)!=null&&Q.id?[D.data.id]:void 0},date:new Date});let E=m({resource:v,meta:I(f,R)}),{fields:F,operation:S,variables:U,...w}=E||{};l==null||l.mutate({action:"create",resource:v.name,data:i,meta:{dataProviderName:O(T,A,s),id:((N=D==null?void 0:D.data)==null?void 0:N.id)??void 0,...w}})},onError:(D,{resource:g,errorNotification:M,values:A})=>{n(D);let{identifier:b}=u(g),i=P.singular(b),f=typeof M=="function"?M(D,A,b):M;c(f,{key:`create-${b}-notification`,description:D.message,message:p("notifications.createError",{resource:p(`${b}.${b}`,i),statusCode:D.statusCode},`There was an error creating ${i} (status code: ${D.statusCode})`),type:"error"})},...e}),{elapsedTime:h}=Z({isLoading:C.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...C,overtime:{elapsedTime:h}}};var vr=x("@tanstack/react-query");var Ra=({mutationOptions:e,overtimeOptions:t}={})=>{let r=z(),{mutate:n}=ae({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),o=q(),{resources:a,select:s}=B(),u=(0,vr.useQueryClient)(),{mutationMode:p,undoableTimeout:d}=Ne(),{notificationDispatch:l}=$e(),c=H(),m=Qe(),{log:P}=ke(),C=ie(),h=Ve(),D=_(),{options:{textTransformers:g}}=ce(),M=(0,vr.useMutation)(({id:b,mutationMode:i,undoableTimeout:f,resource:R,onCancel:v,meta:T,metaData:y,dataProviderName:L,values:E})=>{let{resource:F,identifier:S}=s(R),U=D({resource:F,meta:I(T,y)}),w=i??p,Q=f??d;return w!=="undoable"?o(O(S,L,a)).deleteOne({resource:F.name,id:b,meta:U,metaData:U,variables:E}):new Promise((G,K)=>{let ee=()=>{o(O(S,L,a)).deleteOne({resource:F.name,id:b,meta:U,metaData:U,variables:E}).then(V=>G(V)).catch(V=>K(V))},J=()=>{K({message:"mutationCancelled"})};v&&v(J),l({type:"ADD",payload:{id:b,resource:S,cancelMutation:J,doMutation:ee,seconds:Q,isSilent:!!v}})})},{onMutate:async({id:b,resource:i,mutationMode:f,dataProviderName:R,meta:v,metaData:T})=>{let{identifier:y}=s(i),L=I(v,T),E=re(y,O(y,R,a),L),F=f??p;await u.cancelQueries(E.resourceAll,void 0,{silent:!0});let S=u.getQueriesData(E.resourceAll);return F!=="pessimistic"&&(u.setQueriesData(E.list(),U=>U?{data:U.data.filter(Q=>{var N;return((N=Q.id)==null?void 0:N.toString())!==b.toString()}),total:U.total-1}:null),u.setQueriesData(E.many(),U=>{if(!U)return null;let w=U.data.filter(Q=>{var N;return((N=Q.id)==null?void 0:N.toString())!==(b==null?void 0:b.toString())});return{...U,data:w}})),{previousQueries:S,queryKey:E}},onSettled:(b,i,{id:f,resource:R,dataProviderName:v,invalidates:T=["list","many"]})=>{let{identifier:y}=s(R);h({resource:y,dataProviderName:O(y,v,a),invalidates:T}),l({type:"REMOVE",payload:{id:f,resource:y}})},onSuccess:(b,{id:i,resource:f,successNotification:R,dataProviderName:v,meta:T,metaData:y},L)=>{let{resource:E,identifier:F}=s(f),S=g.singular(F);u.removeQueries(L==null?void 0:L.queryKey.detail(i));let U=typeof R=="function"?R(b,i,F):R;C(U,{key:`${i}-${F}-notification`,description:c("notifications.success","Success"),message:c("notifications.deleteSuccess",{resource:c(`${F}.${F}`,S)},`Successfully deleted a ${S}`),type:"success"}),m==null||m({channel:`resources/${E.name}`,type:"deleted",payload:{ids:[i]},date:new Date});let w=D({resource:E,meta:I(T,y)}),{fields:Q,operation:N,variables:G,...K}=w||{};P==null||P.mutate({action:"delete",resource:E.name,meta:{id:i,dataProviderName:O(F,v,a),...K}}),u.removeQueries(L==null?void 0:L.queryKey.detail(i))},onError:(b,{id:i,resource:f,errorNotification:R},v)=>{let{identifier:T}=s(f);if(v)for(let y of v.previousQueries)u.setQueryData(y[0],y[1]);if(b.message!=="mutationCancelled"){n(b);let y=g.singular(T),L=typeof R=="function"?R(b,i,T):R;C(L,{key:`${i}-${T}-notification`,message:c("notifications.deleteError",{resource:y,statusCode:b.statusCode},`Error (status code: ${b.statusCode})`),description:b.message,type:"error"})}},...e}),{elapsedTime:A}=Z({isLoading:M.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...M,overtime:{elapsedTime:A}}};var kn=x("@tanstack/react-query");var wo=({mutationOptions:e,overtimeOptions:t}={})=>{let r=q(),{resources:n,select:o}=B(),a=H(),s=Qe(),u=ie(),p=Ve(),{log:d}=ke(),l=_(),{options:{textTransformers:c}}=ce(),m=(0,kn.useMutation)(({resource:C,values:h,meta:D,metaData:g,dataProviderName:M})=>{let{resource:A,identifier:b}=o(C),i=l({resource:A,meta:I(D,g)}),f=r(O(b,M,n));return f.createMany?f.createMany({resource:A.name,variables:h,meta:i,metaData:i}):_e(h.map(R=>f.create({resource:A.name,variables:R,meta:i,metaData:i})))},{onSuccess:(C,{resource:h,successNotification:D,dataProviderName:g,invalidates:M=["list","many"],values:A,meta:b,metaData:i})=>{let{resource:f,identifier:R}=o(h),v=c.plural(R),T=typeof D=="function"?D(C,A,R):D;u(T,{key:`createMany-${R}-notification`,message:a("notifications.createSuccess",{resource:a(`${R}.${R}`,R)},`Successfully created ${v}`),description:a("notifications.success","Success"),type:"success"}),p({resource:R,dataProviderName:O(R,g,n),invalidates:M});let y=C==null?void 0:C.data.filter(w=>(w==null?void 0:w.id)!==void 0).map(w=>w.id);s==null||s({channel:`resources/${f.name}`,type:"created",payload:{ids:y},date:new Date});let L=l({resource:f,meta:I(b,i)}),{fields:E,operation:F,variables:S,...U}=L||{};d==null||d.mutate({action:"createMany",resource:f.name,data:A,meta:{dataProviderName:O(R,g,n),ids:y,...U}})},onError:(C,{resource:h,errorNotification:D,values:g})=>{let{identifier:M}=o(h),A=typeof D=="function"?D(C,g,M):D;u(A,{key:`createMany-${M}-notification`,description:C.message,message:a("notifications.createError",{resource:a(`${M}.${M}`,M),statusCode:C.statusCode},`There was an error creating ${M} (status code: ${C.statusCode}`),type:"error"})},...e}),{elapsedTime:P}=Z({isLoading:m.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...m,overtime:{elapsedTime:P}}};var Dr=x("@tanstack/react-query");var Pa=({mutationOptions:e,overtimeOptions:t}={})=>{let{resources:r,select:n}=B(),o=(0,Dr.useQueryClient)(),a=q(),s=H(),{mutationMode:u,undoableTimeout:p}=Ne(),d=z(),{mutate:l}=ae({v3LegacyAuthProviderCompatible:!!(d!=null&&d.isLegacy)}),{notificationDispatch:c}=$e(),m=Qe(),P=ie(),C=Ve(),{log:h}=ke(),D=_(),{options:{textTransformers:g}}=ce(),M=(0,Dr.useMutation)(({ids:b,values:i,resource:f,onCancel:R,mutationMode:v,undoableTimeout:T,meta:y,metaData:L,dataProviderName:E})=>{let{resource:F,identifier:S}=n(f),U=D({resource:F,meta:I(y,L)}),w=v??u,Q=T??p,N=a(O(S,E,r)),G=()=>N.updateMany?N.updateMany({resource:F.name,ids:b,variables:i,meta:U,metaData:U}):_e(b.map(ee=>N.update({resource:F.name,id:ee,variables:i,meta:U,metaData:U})));return w!=="undoable"?G():new Promise((ee,J)=>{let V=()=>{G().then($=>ee($)).catch($=>J($))},W=()=>{J({message:"mutationCancelled"})};R&&R(W),c({type:"ADD",payload:{id:b,resource:S,cancelMutation:W,doMutation:V,seconds:Q,isSilent:!!R}})})},{onMutate:async({resource:b,ids:i,values:f,mutationMode:R,dataProviderName:v,meta:T,metaData:y})=>{let{identifier:L}=n(b),E=re(L,O(L,v,r),I(T,y)),F=R??u;await o.cancelQueries(E.resourceAll,void 0,{silent:!0});let S=o.getQueriesData(E.resourceAll);if(F!=="pessimistic"){o.setQueriesData(E.list(),U=>{if(!U)return null;let w=U.data.map(Q=>Q.id!==void 0&&i.filter(N=>N!==void 0).map(String).includes(Q.id.toString())?{...Q,...f}:Q);return{...U,data:w}}),o.setQueriesData(E.many(),U=>{if(!U)return null;let w=U.data.map(Q=>Q.id!==void 0&&i.filter(N=>N!==void 0).map(String).includes(Q.id.toString())?{...Q,...f}:Q);return{...U,data:w}});for(let U of i)o.setQueriesData(E.detail(U),w=>{if(!w)return null;let Q={...w.data,...f};return{...w,data:Q}})}return{previousQueries:S,queryKey:E}},onSettled:(b,i,{ids:f,resource:R,dataProviderName:v})=>{let{identifier:T}=n(R);C({resource:T,invalidates:["list","many"],dataProviderName:O(T,v,r)}),f.forEach(y=>C({resource:T,invalidates:["detail"],dataProviderName:O(T,v,r),id:y})),c({type:"REMOVE",payload:{id:f,resource:T}})},onSuccess:(b,{ids:i,resource:f,meta:R,metaData:v,dataProviderName:T,successNotification:y,values:L},E)=>{let{resource:F,identifier:S}=n(f),U=g.singular(S),w=typeof y=="function"?y(b,{ids:i,values:L},S):y;P(w,{key:`${i}-${S}-notification`,description:s("notifications.success","Successful"),message:s("notifications.editSuccess",{resource:s(`${S}.${S}`,S)},`Successfully updated ${U}`),type:"success"}),m==null||m({channel:`resources/${F.name}`,type:"updated",payload:{ids:i.map(String)},date:new Date});let Q=[];E&&i.forEach(V=>{let W=o.getQueryData(E.queryKey.detail(V));Q.push(Object.keys(L||{}).reduce(($,X)=>{var ue;return $[X]=(ue=W==null?void 0:W.data)==null?void 0:ue[X],$},{}))});let N=D({resource:F,meta:I(R,v)}),{fields:G,operation:K,variables:ee,...J}=N||{};h==null||h.mutate({action:"updateMany",resource:F.name,data:L,previousData:Q,meta:{ids:i,dataProviderName:O(S,T,r),...J}})},onError:(b,{ids:i,resource:f,errorNotification:R,values:v},T)=>{let{identifier:y}=n(f);if(T)for(let L of T.previousQueries)o.setQueryData(L[0],L[1]);if(b.message!=="mutationCancelled"){l==null||l(b);let L=g.singular(y),E=typeof R=="function"?R(b,{ids:i,values:v},y):R;P(E,{key:`${i}-${y}-updateMany-error-notification`,message:s("notifications.editError",{resource:L,statusCode:b.statusCode},`Error when updating ${L} (status code: ${b.statusCode})`),description:b.message,type:"error"})}},...e}),{elapsedTime:A}=Z({isLoading:M.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...M,overtime:{elapsedTime:A}}};var Lr=x("@tanstack/react-query");var xa=({mutationOptions:e,overtimeOptions:t}={})=>{let r=z(),{mutate:n}=ae({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),{mutationMode:o,undoableTimeout:a}=Ne(),s=q(),{notificationDispatch:u}=$e(),p=H(),d=Qe(),l=ie(),c=Ve(),{log:m}=ke(),{resources:P,select:C}=B(),h=(0,Lr.useQueryClient)(),D=_(),{options:{textTransformers:g}}=ce(),M=(0,Lr.useMutation)(({resource:b,ids:i,mutationMode:f,undoableTimeout:R,onCancel:v,meta:T,metaData:y,dataProviderName:L,values:E})=>{let{resource:F,identifier:S}=C(b),U=D({resource:F,meta:I(T,y)}),w=f??o,Q=R??a,N=s(O(S,L,P)),G=()=>N.deleteMany?N.deleteMany({resource:F.name,ids:i,meta:U,metaData:U,variables:E}):_e(i.map(ee=>N.deleteOne({resource:F.name,id:ee,meta:U,metaData:U,variables:E})));return w!=="undoable"?G():new Promise((ee,J)=>{let V=()=>{G().then($=>ee($)).catch($=>J($))},W=()=>{J({message:"mutationCancelled"})};v&&v(W),u({type:"ADD",payload:{id:i,resource:S,cancelMutation:W,doMutation:V,seconds:Q,isSilent:!!v}})})},{onMutate:async({ids:b,resource:i,mutationMode:f,dataProviderName:R,meta:v,metaData:T})=>{let{identifier:y}=C(i),L=I(v,T),E=re(y,O(y,R,P),L),F=f??o;await h.cancelQueries(E.resourceAll,void 0,{silent:!0});let S=h.getQueriesData(E.resourceAll);if(F!=="pessimistic"){h.setQueriesData(E.list(),U=>U?{data:U.data.filter(Q=>Q.id&&!b.map(String).includes(Q.id.toString())),total:U.total-1}:null),h.setQueriesData(E.many(),U=>{if(!U)return null;let w=U.data.filter(Q=>Q.id?!b.map(String).includes(Q.id.toString()):!1);return{...U,data:w}});for(let U of b)h.setQueriesData(E.detail(U),w=>!w||w.data.id==U?null:{...w})}return{previousQueries:S,queryKey:E}},onSettled:(b,i,{resource:f,ids:R,dataProviderName:v,invalidates:T=["list","many"]})=>{let{identifier:y}=C(f);c({resource:y,dataProviderName:O(y,v,P),invalidates:T}),u({type:"REMOVE",payload:{id:R,resource:y}})},onSuccess:(b,{ids:i,resource:f,meta:R,metaData:v,dataProviderName:T,successNotification:y},L)=>{let{resource:E,identifier:F}=C(f);i.forEach(K=>h.removeQueries(L==null?void 0:L.queryKey.detail(K)));let S=typeof y=="function"?y(b,i,F):y;l(S,{key:`${i}-${F}-notification`,description:p("notifications.success","Success"),message:p("notifications.deleteSuccess",{resource:p(`${F}.${F}`,F)},`Successfully deleted ${F}`),type:"success"}),d==null||d({channel:`resources/${E.name}`,type:"deleted",payload:{ids:i},date:new Date});let U=D({resource:E,meta:I(R,v)}),{fields:w,operation:Q,variables:N,...G}=U||{};m==null||m.mutate({action:"deleteMany",resource:E.name,meta:{ids:i,dataProviderName:O(F,T,P),...G}}),i.forEach(K=>h.removeQueries(L==null?void 0:L.queryKey.detail(K)))},onError:(b,{ids:i,resource:f,errorNotification:R},v)=>{let{identifier:T}=C(f);if(v)for(let y of v.previousQueries)h.setQueryData(y[0],y[1]);if(b.message!=="mutationCancelled"){n(b);let y=g.singular(T),L=typeof R=="function"?R(b,i,T):R;l(L,{key:`${i}-${T}-notification`,message:p("notifications.deleteError",{resource:y,statusCode:b.statusCode},`Error (status code: ${b.statusCode})`),description:b.message,type:"error"})}},...e}),{elapsedTime:A}=Z({isLoading:M.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...M,overtime:{elapsedTime:A}}};var Ca=e=>{var o;let t=q(),{resource:r}=B(),{getApiUrl:n}=t(e??((o=I(r==null?void 0:r.meta,r==null?void 0:r.options))==null?void 0:o.dataProviderName));return n()};var Vn=x("@tanstack/react-query");var ha=({url:e,method:t,config:r,queryOptions:n,successNotification:o,errorNotification:a,meta:s,metaData:u,dataProviderName:p,overtimeOptions:d})=>{let l=q(),c=z(),{mutate:m}=ae({v3LegacyAuthProviderCompatible:!!(c!=null&&c.isLegacy)}),P=H(),C=ie(),h=_(),D=I(s,u),{custom:g}=l(p),M=h({meta:D});if(g){let A=(0,Vn.useQuery)({queryKey:[p,"custom",t,e,{...r,...D||{}}],queryFn:({queryKey:i,pageParam:f,signal:R})=>g({url:e,method:t,...r,meta:{...M,queryContext:{queryKey:i,pageParam:f,signal:R}},metaData:{...M,queryContext:{queryKey:i,pageParam:f,signal:R}}}),...n,onSuccess:i=>{var R;(R=n==null?void 0:n.onSuccess)==null||R.call(n,i);let f=typeof o=="function"?o(i,{...r,...M}):o;C(f)},onError:i=>{var R;m(i),(R=n==null?void 0:n.onError)==null||R.call(n,i);let f=typeof a=="function"?a(i,{...r,...M}):a;C(f,{key:`${t}-notification`,message:P("notifications.error",{statusCode:i.statusCode},`Error (status code: ${i.statusCode})`),description:i.message,type:"error"})}}),{elapsedTime:b}=Z({isLoading:A.isFetching,interval:d==null?void 0:d.interval,onInterval:d==null?void 0:d.onInterval});return{...A,overtime:{elapsedTime:b}}}else throw Error("Not implemented custom on data provider.")};var Bn=x("@tanstack/react-query");var ba=({mutationOptions:e,overtimeOptions:t}={})=>{let r=z(),{mutate:n}=ae({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),o=ie(),a=q(),s=H(),u=_(),p=(0,Bn.useMutation)(({url:l,method:c,values:m,meta:P,metaData:C,dataProviderName:h,config:D})=>{let g=u({meta:I(P,C)}),{custom:M}=a(h);if(M)return M({url:l,method:c,payload:m,meta:g,metaData:g,headers:{...D==null?void 0:D.headers}});throw Error("Not implemented custom on data provider.")},{onSuccess:(l,{successNotification:c,config:m,meta:P,metaData:C})=>{let h=typeof c=="function"?c(l,{...m,...I(P,C)||{}}):c;o(h)},onError:(l,{errorNotification:c,method:m,config:P,meta:C,metaData:h})=>{n(l);let D=typeof c=="function"?c(l,{...P,...I(C,h)||{}}):c;o(D,{key:`${m}-notification`,message:s("notifications.error",{statusCode:l.statusCode},`Error (status code: ${l.statusCode})`),description:l.message,type:"error"})},...e}),{elapsedTime:d}=Z({isLoading:p.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...p,overtime:{elapsedTime:d}}};var Er=x("react");var So=k(x("react")),va=()=>({default:{create:()=>Promise.resolve({data:{id:1}}),createMany:()=>Promise.resolve({data:[]}),deleteOne:()=>Promise.resolve({data:{id:1}}),deleteMany:()=>Promise.resolve({data:[]}),getList:()=>Promise.resolve({data:[],total:0}),getMany:()=>Promise.resolve({data:[]}),getOne:()=>Promise.resolve({data:{id:1}}),update:()=>Promise.resolve({data:{id:1}}),updateMany:()=>Promise.resolve({data:[]}),custom:()=>Promise.resolve({data:{}}),getApiUrl:()=>""}}),$t=So.default.createContext(va()),Nn=({children:e,...t})=>{let r;return!t.getList||!t.getOne?r=t:r={default:t},So.default.createElement($t.Provider,{value:r},e)};var q=()=>{let e=(0,Er.useContext)($t);return(0,Er.useCallback)(r=>{if(r){if(!e[r])throw new Error(`"${r}" Data provider not found`);return e[r]}if(e.default)return e.default;throw new Error('There is no "default" data provider. Please pass dataProviderName.')},[e])};var Hn=x("@tanstack/react-query");var Da=({resource:e,config:t,filters:r,hasPagination:n,pagination:o,sorters:a,queryOptions:s,successNotification:u,errorNotification:p,meta:d,metaData:l,liveMode:c,onLiveEvent:m,liveParams:P,dataProviderName:C,overtimeOptions:h})=>{let{resources:D,resource:g,identifier:M}=B(e),A=q(),b=H(),i=z(),{mutate:f}=ae({v3LegacyAuthProviderCompatible:!!(i!=null&&i.isLegacy)}),R=ie(),v=_(),T=O(M,C,D),y=I(d,l),L=I(r,t==null?void 0:t.filters),E=I(a,t==null?void 0:t.sort),F=I(n,t==null?void 0:t.hasPagination),S=Qt({pagination:o,configPagination:t==null?void 0:t.pagination,hasPagination:F}),U=S.mode==="server",w={meta:y,metaData:y,filters:L,hasPagination:U,pagination:S,sorters:E,config:{...t,sort:E}},Q=(s==null?void 0:s.enabled)===void 0||(s==null?void 0:s.enabled)===!0,N=re(M,T,y,y),G=v({resource:g,meta:y}),{getList:K}=A(T);rt({resource:M,types:["*"],params:{meta:G,metaData:G,pagination:S,hasPagination:U,sort:E,sorters:E,filters:L,subscriptionType:"useList",...P},channel:`resources/${g.name}`,enabled:Q,liveMode:c,onLiveEvent:m});let ee=(0,Hn.useInfiniteQuery)(N.list({filters:L,hasPagination:U,...U&&{pagination:S},...a&&{sorters:a},...(t==null?void 0:t.sort)&&{sort:t==null?void 0:t.sort}}),({queryKey:V,pageParam:W,signal:$})=>{let X={...S,current:W};return K({resource:g.name,pagination:X,hasPagination:U,filters:L,sort:E,sorters:E,meta:{...G,queryContext:{queryKey:V,pageParam:W,signal:$}},metaData:{...G,queryContext:{queryKey:V,pageParam:W,signal:$}}}).then(({data:ue,total:Pe,...at})=>({data:ue,total:Pe,pagination:X,...at}))},{getNextPageParam:V=>yr(V),getPreviousPageParam:V=>gr(V),...s,onSuccess:V=>{var $;($=s==null?void 0:s.onSuccess)==null||$.call(s,V);let W=typeof u=="function"?u(V,w,M):u;R(W)},onError:V=>{var $;f(V),($=s==null?void 0:s.onError)==null||$.call(s,V);let W=typeof p=="function"?p(V,w,M):p;R(W,{key:`${M}-useInfiniteList-notification`,message:b("notifications.error",{statusCode:V.statusCode},`Error (status code: ${V.statusCode})`),description:V.message,type:"error"})}}),{elapsedTime:J}=Z({isLoading:ee.isFetching,interval:h==null?void 0:h.interval,onInterval:h==null?void 0:h.onInterval});return{...ee,overtime:{elapsedTime:J}}};var Gt=x("react"),es=x("@tanstack/react-query");var Ao=k(x("react")),je=Ao.default.createContext(void 0),On=({liveProvider:e,children:t})=>Ao.default.createElement(je.Provider,{value:e},t);var Xn=x("react");var Fo=k(x("react"));var Kn=x("react");var $n=x("react"),Gn=k(x("lodash-es/isEqual")),Wn=e=>{let t=(0,$n.useRef)(e);return(0,Gn.default)(t.current,e)||(t.current=e),t.current};var Ur=(e,t)=>{let r=Wn(t);return(0,Kn.useMemo)(e,r)};var ot=Fo.default.createContext({resources:[]}),zn=({resources:e,children:t})=>{let r=Ur(()=>Tr(e??[]),[e]);return Fo.default.createElement(ot.Provider,{value:{resources:r}},t)};var Qo=k(x("react")),_n=Qo.default.createContext("new"),jn=_n.Provider,j=()=>Qo.default.useContext(_n);var Jn=k(x("react"));var Mr=k(x("react")),Zn={},Ze=(0,Mr.createContext)(Zn),Yn=({children:e,router:t})=>Mr.default.createElement(Ze.Provider,{value:t??Zn},e);var Ir=k(x("react")),ko=()=>{let e=(0,Ir.useContext)(Ze);return Ir.default.useMemo(()=>(e==null?void 0:e.parse)??(()=>()=>({})),[e==null?void 0:e.parse])()};var ye=()=>{let e=ko();return Jn.default.useMemo(()=>e(),[e])};function B(e){let{resources:t}=(0,Xn.useContext)(ot),r=j(),n=ye(),o={resourceName:e&&typeof e!="string"?e.resourceName:e,resourceNameOrRouteName:e&&typeof e!="string"?e.resourceNameOrRouteName:e,recordItemId:e&&typeof e!="string"?e.recordItemId:void 0},a=(c,m=!0)=>{let C=me(c,t,r==="legacy");if(C)return{resource:C,identifier:C.identifier??C.name};if(m){let h={name:c,identifier:c},D=h.identifier??h.name;return{resource:h,identifier:D}}},s=qn(),{useParams:u}=se(),p=u();if(r==="legacy"){let c=o.resourceNameOrRouteName?o.resourceNameOrRouteName:p.resource,m=c?s(c):void 0,P=(o==null?void 0:o.recordItemId)??p.id,C=p.action,h=(o==null?void 0:o.resourceName)??(m==null?void 0:m.name),D=(m==null?void 0:m.identifier)??(m==null?void 0:m.name);return{resources:t,resource:m,resourceName:h,id:P,action:C,select:a,identifier:D}}let d,l=typeof e=="string"?e:o==null?void 0:o.resourceNameOrRouteName;if(l){let c=me(l,t);c?d=c:d={name:l}}else n!=null&&n.resource&&(d=n.resource);return{resources:t,resource:d,resourceName:d==null?void 0:d.name,id:n.id,action:n.action,select:a,identifier:(d==null?void 0:d.identifier)??(d==null?void 0:d.name)}}var wr=x("react");var qn=()=>{let{resources:e}=(0,wr.useContext)(ot);return(0,wr.useCallback)(r=>{let n=me(r,e,!0);return n||{name:r,route:r}},[e])};var rt=({resource:e,params:t,channel:r,types:n,enabled:o=!0,liveMode:a,onLiveEvent:s})=>{let u=(0,es.useQueryClient)(),{resource:p,identifier:d}=B(e),l=re(d),c=(0,Gt.useContext)(je),{liveMode:m,onLiveEvent:P}=(0,Gt.useContext)(be),C=a??m;(0,Gt.useEffect)(()=>{let h;return C&&C!=="off"&&o&&(h=c==null?void 0:c.subscribe({channel:r,params:{resource:p==null?void 0:p.name,...t},types:n,callback:D=>{C==="auto"&&u.invalidateQueries(l.resourceAll),s==null||s(D),P==null||P(D)}})),()=>{h&&(c==null||c.unsubscribe(h))}},[o])};var ts=x("react");var rs=e=>{let{liveMode:t}=(0,ts.useContext)(be);return e??t};var Sr=x("react");var $m=({params:e,channel:t,types:r=["*"],enabled:n=!0,onLiveEvent:o})=>{let a=(0,Sr.useContext)(je);(0,Sr.useEffect)(()=>{let s;return n&&(s=a==null?void 0:a.subscribe({channel:t,params:e,types:r,callback:o})),()=>{s&&(a==null||a.unsubscribe(s))}},[n])};var os=x("react");var Qe=()=>{let e=(0,os.useContext)(je);return e==null?void 0:e.publish};var ns=x("react");var $e=()=>{let{notifications:e,notificationDispatch:t}=(0,ns.useContext)(hr);return{notifications:e,notificationDispatch:t}};var as=x("react");var Ar=k(x("react"));var Wt=(0,Ar.createContext)({}),ss=({open:e,close:t,children:r})=>Ar.default.createElement(Wt.Provider,{value:{open:e,close:t}},r);var Ee=()=>{let{open:e,close:t}=(0,as.useContext)(Wt);return{open:e,close:t}};var is=x("react");var ie=()=>{let{open:e}=Ee();return(0,is.useCallback)((r,n)=>{r!==!1&&(r?e==null||e(r):n&&(e==null||e(n)))},[])};var Fr=x("react");var Vo=k(x("react"));var Be=Vo.default.createContext({}),us=({children:e,i18nProvider:t})=>Vo.default.createElement(Be.Provider,{value:{i18nProvider:t}},e);var La=()=>{let{i18nProvider:e}=(0,Fr.useContext)(Be);return(0,Fr.useCallback)(t=>e==null?void 0:e.changeLocale(t),[])};var Qr=x("react");var H=()=>{let{i18nProvider:e}=(0,Qr.useContext)(Be);return(0,Qr.useMemo)(()=>{function r(n,o,a){return(e==null?void 0:e.translate(n,o,a))??a??(typeof o=="string"&&typeof a>"u"?o:n)}return r},[e])};var kr=x("react");var Ea=()=>{let{i18nProvider:e}=(0,kr.useContext)(Be);return(0,kr.useCallback)(()=>e==null?void 0:e.getLocale(),[])};var cs=x("react");var ps=x("export-to-csv-fix-source-map"),bf=({resourceName:e,resource:t,sorter:r,sorters:n,filters:o,maxItemCount:a,pageSize:s=20,mapData:u=P=>P,exportOptions:p,meta:d,metaData:l,dataProviderName:c,onError:m}={})=>{let[P,C]=(0,cs.useState)(!1),h=q(),D=_(),{resource:g,resources:M,identifier:A}=B(I(t,e)),i=`${ht()(A,"plural")}-${new Date().toLocaleString()}`,{getList:f}=h(O(A,c,M)),R=D({resource:g,meta:I(d,l)});return{isLoading:P,triggerExport:async()=>{C(!0);let T=[],y=1,L=!0;for(;L;)try{let{data:F,total:S}=await f({resource:(g==null?void 0:g.name)??"",filters:o,sort:I(n,r),sorters:I(n,r),pagination:{current:y,pageSize:s,mode:"server"},meta:R,metaData:R});y++,T.push(...F),a&&T.length>=a&&(T=T.slice(0,a),L=!1),S===T.length&&(L=!1)}catch(F){C(!1),L=!1,m==null||m(F);return}new ps.ExportToCsv({filename:i,useKeysAsHeaders:!0,...p}).generateCsv(T.map(u)),C(!1)}}};var Bo=k(x("react")),ds=k(x("warn-once"));var Ff=({resource:e,action:t,id:r,onMutationSuccess:n,onMutationError:o,redirect:a,successNotification:s,errorNotification:u,meta:p,metaData:d,queryMeta:l,mutationMeta:c,mutationMode:m,liveMode:P,onLiveEvent:C,liveParams:h,undoableTimeout:D,dataProviderName:g,invalidates:M,queryOptions:A,createMutationOptions:b,updateMutationOptions:i,overtimeOptions:f}={})=>{let{options:R}=ce(),v=_(),{resource:T,id:y,action:L,identifier:E}=B(e),{identifier:F}=B(),U=(()=>{let xe=r??y;return e&&e!==F?r:xe})(),[w,Q]=Bo.default.useState(U);Bo.default.useEffect(()=>{Q(U)},[U]);let G=(()=>t||(L==="edit"||L==="clone"?L:"create"))(),K=v({resource:T,meta:I(p,d)}),{mutationMode:ee}=Ne(),J=m??ee,V=G==="create",W=G==="edit",$=G==="clone";(0,ds.default)(($||W)&&!!e&&!r,`[useForm]: action: "${G}", resource: "${E}", id: ${w} 

If you don't use the \`setId\` method to set the \`id\`, you should pass the \`id\` prop to \`useForm\`. Otherwise, \`useForm\` will not be able to infer the \`id\` from the current URL. 

See https://refine.dev/docs/api-reference/core/hooks/useForm/#resource`);let X=vo({redirectFromProps:a,action:G,redirectOptions:R.redirect}),Pe=Ht({resource:E,id:w??"",queryOptions:{enabled:w!==void 0&&(W||$),...A},liveMode:P,onLiveEvent:C,liveParams:h,meta:{...K,...l},metaData:{...K,...l},dataProviderName:g}),{isFetching:at}=Pe,Ke=Ot({mutationOptions:b}),{mutate:Gr,isLoading:yt}=Ke,it=Io({mutationOptions:i}),{mutate:gt,isLoading:Tt}=it,{setWarnWhen:Rt}=Vt(),Pt=ls(),Mt=V||$?{formLoading:at||yt,mutationResult:Ke,onFinish:async xe=>{Rt(!1);let we=He=>{Pt({redirect:X,resource:T,id:He,meta:I(p,d)})};return J!=="pessimistic"&&setTimeout(()=>{we()}),new Promise((He,Se)=>{if(J!=="pessimistic"&&He(),!!T)return Gr({values:xe,resource:E??T.name,successNotification:s,errorNotification:u,meta:{...K,...c},metaData:{...K,...c},dataProviderName:g,invalidates:M},{onSuccess:(Ae,et,tt)=>{var er;n&&n(Ae,xe,tt);let ze=(er=Ae==null?void 0:Ae.data)==null?void 0:er.id;we(ze),He(Ae)},onError:(Ae,et,tt)=>{if(o)return o(Ae,xe,tt);Se()}})})}}:{formLoading:at||Tt,mutationResult:it,onFinish:async xe=>{if(Rt(!1),!T)return;let we={id:w??"",values:xe,resource:E??T.name,mutationMode:J,undoableTimeout:D,successNotification:s,errorNotification:u,meta:{...K,...c},metaData:{...K,...c},dataProviderName:g,invalidates:M},He=()=>{Pt({redirect:X,resource:T,id:w,meta:I(p,d)})};return J!=="pessimistic"&&setTimeout(()=>{He()}),new Promise((Se,Ae)=>(J!=="pessimistic"&&Se(),setTimeout(()=>{gt(we,{onSuccess:(et,tt,ze)=>{n&&n(et,xe,ze),J==="pessimistic"&&He(),Se(et)},onError:(et,tt,ze)=>{if(o)return o(et,xe,ze);Ae()}})})))}},{elapsedTime:ut}=Z({isLoading:Mt.mutationResult.isLoading||Pe.isFetching,interval:f==null?void 0:f.interval,onInterval:f==null?void 0:f.onInterval});return{...Mt,queryResult:Pe,id:w,setId:Q,redirect:(xe,we)=>{Pt({redirect:xe!==void 0?xe:W?"list":"edit",resource:T,id:we??w,meta:I(p,d)})},overtime:{elapsedTime:ut}}};var ms=x("react");var ls=()=>{let{show:e,edit:t,list:r,create:n}=de();return(0,ms.useCallback)(({redirect:a,resource:s,id:u,meta:p={}})=>{if(a&&s)return s.show&&a==="show"&&u?e(s,u,void 0,p):s.edit&&a==="edit"&&u?t(s,u,void 0,p):s.create&&a==="create"?n(s,void 0,p):r(s,"push",p)},[])};var Vr=k(x("react")),le=()=>{let e=(0,Vr.useContext)(Ze);return Vr.default.useMemo(()=>(e==null?void 0:e.go)??(()=>()=>{}),[e==null?void 0:e.go])()};var Br=k(x("react")),No=()=>{let e=(0,Br.useContext)(Ze);return Br.default.useMemo(()=>(e==null?void 0:e.back)??(()=>()=>{}),[e==null?void 0:e.back])()};var de=()=>{let{resources:e}=B(),t=j(),{useHistory:r}=se(),n=r(),o=ye(),a=le(),s=No(),u=(i,f="push")=>{t==="legacy"?n[f](i):a({to:i,type:f})},p=(i,f={})=>{var R;if(t==="legacy"){let v=typeof i=="string"?me(i,e,!0)??{name:i,route:i}:i,T=Re(v,e,!0).find(y=>y.action==="create");return T?he(T.route,v==null?void 0:v.meta,o,f):""}else{let v=typeof i=="string"?me(i,e)??{name:i}:i,T=(R=Re(v,e).find(y=>y.action==="create"))==null?void 0:R.route;return T?a({to:he(T,v==null?void 0:v.meta,o,f),type:"path"}):""}},d=(i,f,R={})=>{var T;let v=encodeURIComponent(f);if(t==="legacy"){let y=typeof i=="string"?me(i,e,!0)??{name:i,route:i}:i,L=Re(y,e,!0).find(E=>E.action==="edit");return L?he(L.route,y==null?void 0:y.meta,o,{...R,id:v}):""}else{let y=typeof i=="string"?me(i,e)??{name:i}:i,L=(T=Re(y,e).find(E=>E.action==="edit"))==null?void 0:T.route;return L?a({to:he(L,y==null?void 0:y.meta,o,{...R,id:v}),type:"path"}):""}},l=(i,f,R={})=>{var T;let v=encodeURIComponent(f);if(t==="legacy"){let y=typeof i=="string"?me(i,e,!0)??{name:i,route:i}:i,L=Re(y,e,!0).find(E=>E.action==="clone");return L?he(L.route,y==null?void 0:y.meta,o,{...R,id:v}):""}else{let y=typeof i=="string"?me(i,e)??{name:i}:i,L=(T=Re(y,e).find(E=>E.action==="clone"))==null?void 0:T.route;return L?a({to:he(L,y==null?void 0:y.meta,o,{...R,id:v}),type:"path"}):""}},c=(i,f,R={})=>{var T;let v=encodeURIComponent(f);if(t==="legacy"){let y=typeof i=="string"?me(i,e,!0)??{name:i,route:i}:i,L=Re(y,e,!0).find(E=>E.action==="show");return L?he(L.route,y==null?void 0:y.meta,o,{...R,id:v}):""}else{let y=typeof i=="string"?me(i,e)??{name:i}:i,L=(T=Re(y,e).find(E=>E.action==="show"))==null?void 0:T.route;return L?a({to:he(L,y==null?void 0:y.meta,o,{...R,id:v}),type:"path"}):""}},m=(i,f={})=>{var R;if(t==="legacy"){let v=typeof i=="string"?me(i,e,!0)??{name:i,route:i}:i,T=Re(v,e,!0).find(y=>y.action==="list");return T?he(T.route,v==null?void 0:v.meta,o,f):""}else{let v=typeof i=="string"?me(i,e)??{name:i}:i,T=(R=Re(v,e).find(y=>y.action==="list"))==null?void 0:R.route;return T?a({to:he(T,v==null?void 0:v.meta,o,f),type:"path"}):""}};return{create:(i,f="push",R={})=>{u(p(i,R),f)},createUrl:p,edit:(i,f,R="push",v={})=>{u(d(i,f,v),R)},editUrl:d,clone:(i,f,R="push",v={})=>{u(l(i,f,v),R)},cloneUrl:l,show:(i,f,R="push",v={})=>{u(c(i,f,v),R)},showUrl:c,list:(i,f="push",R={})=>{u(m(i,R),f)},listUrl:m,push:(i,...f)=>{t==="legacy"?n.push(i,...f):a({to:i,type:"push"})},replace:(i,...f)=>{t==="legacy"?n.replace(i,...f):a({to:i,type:"replace"})},goBack:()=>{t==="legacy"?n.goBack():s()}}};var Nr=k(x("react")),fs=k(x("warn-once"));var sy=({resource:e,id:t,successNotification:r,errorNotification:n,meta:o,metaData:a,liveMode:s,onLiveEvent:u,dataProviderName:p,queryOptions:d,overtimeOptions:l}={})=>{let{resource:c,id:m,identifier:P}=B(e),{identifier:C}=B(),h=_(),g=(()=>{let R=t??m;return e&&e!==C?t:R})(),[M,A]=(0,Nr.useState)(g);Nr.default.useEffect(()=>{A(g)},[g]);let b=h({resource:c,meta:I(o,a)});(0,fs.default)(!!e&&!t,`[useShow]: resource: "${P}", id: ${t} 

If you don't use the \`setShowId\` method to set the \`showId\`, you should pass the \`id\` prop to \`useShow\`. Otherwise, \`useShow\` will not be able to infer the \`id\` from the current URL. 

See https://refine.dev/docs/api-reference/core/hooks/show/useShow/#resource`);let i=Ht({resource:P,id:M??"",queryOptions:{enabled:M!==void 0,...d},successNotification:r,errorNotification:n,meta:b,metaData:b,liveMode:s,onLiveEvent:u,dataProviderName:p}),{elapsedTime:f}=Z({isLoading:i.isFetching,interval:l==null?void 0:l.interval,onInterval:l==null?void 0:l.onInterval});return{queryResult:i,showId:M,setShowId:A,overtime:{elapsedTime:f}}};var Dt=x("react"),ys=x("papaparse"),gs=k(x("lodash-es/chunk"));var ly=({resourceName:e,resource:t,mapData:r=l=>l,paparseOptions:n,batchSize:o=Number.MAX_SAFE_INTEGER,onFinish:a,meta:s,metaData:u,onProgress:p,dataProviderName:d}={})=>{let[l,c]=(0,Dt.useState)(0),[m,P]=(0,Dt.useState)(0),[C,h]=(0,Dt.useState)(!1),{resource:D,identifier:g}=B(t??e),M=_(),A=wo(),b=Ot(),i=M({resource:D,meta:I(s,u)}),f;o===1?f=b:f=A;let R=()=>{P(0),c(0),h(!1)},v=y=>{let L={succeeded:y.filter(E=>E.type==="success"),errored:y.filter(E=>E.type==="error")};a==null||a(L),h(!1)};(0,Dt.useEffect)(()=>{p==null||p({totalAmount:m,processedAmount:l})},[m,l]);let T=({file:y})=>(R(),new Promise(L=>{h(!0),(0,ys.parse)(y,{complete:async({data:E})=>{let F=sr(E,r);if(P(F.length),o===1){let S=F.map(w=>async()=>({response:await b.mutateAsync({resource:g??"",values:w,successNotification:!1,errorNotification:!1,dataProviderName:d,meta:i,metaData:i}),value:w})),U=await fr(S,({response:w,value:Q})=>(c(N=>N+1),{response:[w.data],type:"success",request:[Q]}),(w,Q)=>({response:[w],type:"error",request:[F[Q]]}));L(U)}else{let S=(0,gs.default)(F,o),U=S.map(Q=>async()=>({response:await A.mutateAsync({resource:g??"",values:Q,successNotification:!1,errorNotification:!1,dataProviderName:d,meta:i,metaData:i}),value:Q,currentBatchLength:Q.length})),w=await fr(U,({response:Q,currentBatchLength:N,value:G})=>(c(K=>K+N),{response:Q.data,type:"success",request:G}),(Q,N)=>({response:[Q],type:"error",request:S[N]}));L(w)}},...n})}).then(L=>(v(L),L)));return{inputProps:{type:"file",accept:".csv",onChange:y=>{y.target.files&&y.target.files.length>0&&T({file:y.target.files[0]})}},mutationResult:f,isLoading:C,handleChange:T}};var Kt=x("react"),fy=({defaultVisible:e=!1}={})=>{let[t,r]=(0,Kt.useState)(e),n=(0,Kt.useCallback)(()=>r(!0),[t]),o=(0,Kt.useCallback)(()=>r(!1),[t]);return{visible:t,show:n,close:o}};var Ts=k(x("react"));var zt=()=>{let e=j(),{resource:t,resources:r}=B(),n=ye();return Ts.default.useCallback(({resource:a,action:s,meta:u})=>{var m;let p=a||t;if(!p)return;let l=(m=Re(p,r,e==="legacy").find(P=>P.action===s))==null?void 0:m.route;return l?he(l,p==null?void 0:p.meta,n,u):void 0},[r,t,n])};var Ua=({resource:e,action:t,meta:r,legacy:n})=>zt()({resource:e,action:t,meta:r,legacy:n});var Hr=k(x("react")),dt=()=>{let e=(0,Hr.useContext)(Ze);return e!=null&&e.Link?e.Link:({to:r,...n})=>Hr.default.createElement("a",{href:r,...n})};var Ps=x("react");var Ho=k(x("react")),Ye={useHistory:()=>!1,useLocation:()=>!1,useParams:()=>({}),Prompt:()=>null,Link:()=>null},Ma=Ho.default.createContext(Ye),_t=Ma,Rs=({children:e,useHistory:t,useLocation:r,useParams:n,Prompt:o,Link:a,routes:s})=>Ho.default.createElement(_t.Provider,{value:{useHistory:t??Ye.useHistory,useLocation:r??Ye.useLocation,useParams:n??Ye.useParams,Prompt:o??Ye.Prompt,Link:a??Ye.Link,routes:s??Ye.routes}},e);var se=()=>{let e=(0,Ps.useContext)(_t),{useHistory:t,useLocation:r,useParams:n,Prompt:o,Link:a,routes:s}=e??Ye;return{useHistory:t,useLocation:r,useParams:n,Prompt:o,Link:a,routes:s}};var Cs=x("@tanstack/react-query"),hs=x("react");var Oo=k(x("react"));var nt=Oo.default.createContext({options:{buttons:{enableAccessControl:!0,hideIfUnauthorized:!1}}});var xs=({can:e,children:t,options:r})=>Oo.default.createElement(nt.Provider,{value:{can:e,options:r?{...r,buttons:{enableAccessControl:!0,hideIfUnauthorized:!1,...r.buttons}}:{buttons:{enableAccessControl:!0,hideIfUnauthorized:!1}}}},t);var Lt=e=>{if(!e)return;let{icon:t,list:r,edit:n,create:o,show:a,clone:s,children:u,meta:p,options:d,...l}=e,{icon:c,...m}=p??{},{icon:P,...C}=d??{};return{...l,...p?{meta:m}:{},...d?{options:C}:{}}};var bs=({action:e,resource:t,params:r,queryOptions:n})=>{let{can:o}=(0,hs.useContext)(nt),{resource:a,...s}=r??{},u=Lt(a),p=(0,Cs.useQuery)(["useCan",{action:e,resource:t,params:{...s,resource:u},enabled:n==null?void 0:n.enabled}],()=>(o==null?void 0:o({action:e,resource:t,params:{...s,resource:u}}))??Promise.resolve({can:!0}),{enabled:typeof o<"u",...n,retry:!1});return typeof o>"u"?{data:{can:!0}}:p};var $o=k(x("react"));var Yy=()=>{let{can:e}=$o.default.useContext(nt);return{can:$o.default.useMemo(()=>e?async({params:n,...o})=>{let a=n!=null&&n.resource?Lt(n.resource):void 0;return e({...o,...n?{params:{...n,resource:a}}:{}})}:void 0,[e])}};var Je=x("react"),vs=k(x("lodash/uniqBy")),Ds=k(x("lodash/debounce")),jt=k(x("lodash/get"));var ig=e=>{let[t,r]=(0,Je.useState)([]),[n,o]=(0,Je.useState)([]),[a,s]=(0,Je.useState)([]),{resource:u,sort:p,sorters:d,filters:l=[],optionLabel:c="title",optionValue:m="id",debounce:P=300,successNotification:C,errorNotification:h,defaultValueQueryOptions:D,queryOptions:g,fetchSize:M,pagination:A,hasPagination:b=!1,liveMode:i,defaultValue:f=[],onLiveEvent:R,onSearch:v,liveParams:T,meta:y,metaData:L,dataProviderName:E,overtimeOptions:F}=e,{resource:S,identifier:U}=B(u),Q=_()({resource:S,meta:I(y,L)}),N=Array.isArray(f)?f:[f],G=(0,Je.useCallback)(X=>{s(X.data.map(ue=>({label:(0,jt.default)(ue,c),value:(0,jt.default)(ue,m)})))},[c,m]),K=D??g,ee=Uo({resource:U,ids:N,queryOptions:{...K,enabled:N.length>0&&((K==null?void 0:K.enabled)??!0),onSuccess:X=>{var ue;G(X),(ue=K==null?void 0:K.onSuccess)==null||ue.call(K,X)}},meta:Q,metaData:Q,liveMode:"off",dataProviderName:E}),J=(0,Je.useCallback)(X=>{o(X.data.map(ue=>({label:(0,jt.default)(ue,c),value:(0,jt.default)(ue,m)})))},[c,m]),V=Nt({resource:U,sorters:I(d,p),filters:l.concat(t),pagination:{current:A==null?void 0:A.current,pageSize:(A==null?void 0:A.pageSize)??M,mode:A==null?void 0:A.mode},hasPagination:b,queryOptions:{...g,onSuccess:X=>{var ue;J(X),(ue=g==null?void 0:g.onSuccess)==null||ue.call(g,X)}},successNotification:C,errorNotification:h,meta:Q,metaData:Q,liveMode:i,liveParams:T,onLiveEvent:R,dataProviderName:E}),W=X=>{if(v){r(v(X));return}if(X)r([{field:c,operator:"contains",value:X}]);else{r([]);return}},{elapsedTime:$}=Z({isLoading:V.isFetching||ee.isFetching,interval:F==null?void 0:F.interval,onInterval:F==null?void 0:F.onInterval});return{queryResult:V,defaultValueQueryResult:ee,options:(0,Je.useMemo)(()=>(0,vs.default)([...n,...a],"value"),[n,a]),onSearch:(0,Ds.default)(W,P),overtime:{elapsedTime:$}}};var Ge=k(x("react")),Go=k(x("qs")),Zt=k(x("lodash/differenceWith")),Yt=k(x("lodash/isEqual")),Us=k(x("warn-once"));var Ls=[],Es=[];function gg({initialCurrent:e,initialPageSize:t,hasPagination:r=!0,pagination:n,initialSorter:o,permanentSorter:a=Es,defaultSetFilterBehavior:s,initialFilter:u,permanentFilter:p=Ls,filters:d,sorters:l,syncWithLocation:c,resource:m,successNotification:P,errorNotification:C,queryOptions:h,liveMode:D,onLiveEvent:g,liveParams:M,meta:A,metaData:b,dataProviderName:i,overtimeOptions:f}={}){var Jo,Xo,qo,en,tn;let{syncWithLocation:R}=Eo(),v=c??R,T=rs(D),y=j(),{useLocation:L}=se(),{search:E,pathname:F}=L(),S=_(),U=ye(),w=((d==null?void 0:d.mode)||"server")==="server",Q=((l==null?void 0:l.mode)||"server")==="server",N=r===!1?"off":"server",G=((n==null?void 0:n.mode)??N)!=="off",K=I(n==null?void 0:n.current,e),ee=I(n==null?void 0:n.pageSize,t),J=I(A,b),{parsedCurrent:V,parsedPageSize:W,parsedSorter:$,parsedFilters:X}=ir(E??"?"),ue=I(d==null?void 0:d.initial,u),Pe=I(d==null?void 0:d.permanent,p)??Ls,at=I(l==null?void 0:l.initial,o),Ke=I(l==null?void 0:l.permanent,a)??Es,Gr=I(d==null?void 0:d.defaultBehavior,s)??"merge",yt,it,gt,Tt;v?(yt=((Jo=U==null?void 0:U.params)==null?void 0:Jo.current)||V||K||1,it=((Xo=U==null?void 0:U.params)==null?void 0:Xo.pageSize)||W||ee||10,gt=((qo=U==null?void 0:U.params)==null?void 0:qo.sorters)||($.length?$:at),Tt=((en=U==null?void 0:U.params)==null?void 0:en.filters)||(X.length?X:ue)):(yt=K||1,it=ee||10,gt=at,Tt=ue);let{replace:Rt}=de(),Pt=le(),{resource:Zo,identifier:qt}=B(m),Wr=S({resource:Zo,meta:J});Ge.default.useEffect(()=>{(0,Us.default)(typeof qt>"u","useTable: `resource` is not defined.")},[qt]);let[qe,Mt]=(0,Ge.useState)(dr(Ke,gt??[])),[ut,xe]=(0,Ge.useState)(pr(Pe,Tt??[])),[we,He]=(0,Ge.useState)(yt),[Se,Ae]=(0,Ge.useState)(it),et=({pagination:{current:Te,pageSize:Fe},sorter:tr,filters:rr})=>{if(y==="new")return Pt({type:"path",options:{keepHash:!0,keepQuery:!0},query:{...G?{current:Te,pageSize:Fe}:{},sorters:tr,filters:rr,...tt()}})??"";{let It=Go.default.parse(E==null?void 0:E.substring(1)),ta=ur({pagination:{pageSize:Fe,current:Te},sorters:qe??tr,filters:rr,...It});return`${F??""}?${ta??""}`}};(0,Ge.useEffect)(()=>{E===""&&(He(yt),Ae(it),Mt(dr(Ke,gt??[])),xe(pr(Pe,Tt??[])))},[E]);let tt=()=>{if(y==="new"){let{sorters:Te,filters:Fe,pageSize:tr,current:rr,...It}=(U==null?void 0:U.params)??{};return It}else{let{sorter:Te,filters:Fe,pageSize:tr,current:rr,...It}=Go.default.parse(E,{ignoreQueryPrefix:!0});return It}};(0,Ge.useEffect)(()=>{if(v){let Te=tt();if(y==="new")Pt({type:"replace",options:{keepQuery:!0},query:{...G?{pageSize:Se,current:we}:{},sorters:(0,Zt.default)(qe,Ke,Yt.default),filters:(0,Zt.default)(ut,Pe,Yt.default)}});else{let Fe=ur({...G?{pagination:{pageSize:Se,current:we}}:{},sorters:(0,Zt.default)(qe,Ke,Yt.default),filters:(0,Zt.default)(ut,Pe,Yt.default),...Te});return Rt==null?void 0:Rt(`${F}?${Fe}`,void 0,{shallow:!0})}}},[v,we,Se,qe,ut]);let ze=Nt({resource:qt,hasPagination:r,pagination:{current:we,pageSize:Se,mode:n==null?void 0:n.mode},filters:w?Ct(Pe,ut):void 0,sorters:Q?cr(Ke,qe):void 0,queryOptions:h,successNotification:P,errorNotification:C,meta:Wr,metaData:Wr,liveMode:T,liveParams:M,onLiveEvent:g,dataProviderName:i}),er=Te=>{xe(Fe=>Ct(Pe,Te,Fe))},Js=Te=>{xe(Ct(Pe,Te))},Xs=Te=>{xe(Fe=>Ct(Pe,Te(Fe)))},qs=(Te,Fe=Gr)=>{typeof Te=="function"?Xs(Te):Fe==="replace"?Js(Te):er(Te)},Yo=Te=>{Mt(()=>cr(Ke,Te))},{elapsedTime:ea}=Z({isLoading:ze.isFetching,interval:f==null?void 0:f.interval,onInterval:f==null?void 0:f.onInterval});return{tableQueryResult:ze,sorters:qe,setSorters:Yo,sorter:qe,setSorter:Yo,filters:ut,setFilters:qs,current:we,setCurrent:He,pageSize:Se,setPageSize:Ae,pageCount:Se?Math.ceil((((tn=ze.data)==null?void 0:tn.total)??0)/Se):1,createLinkForSyncWithLocation:et,overtime:{elapsedTime:ea}}}var Ko=x("react"),Jt=x("@tanstack/react-query");var Wo=k(x("react")),lt=Wo.default.createContext({}),Ms=({create:e,get:t,update:r,children:n})=>Wo.default.createElement(lt.Provider,{value:{create:e,get:t,update:r}},n);var ke=({logMutationOptions:e,renameMutationOptions:t}={})=>{let r=(0,Jt.useQueryClient)(),n=(0,Ko.useContext)(lt),o=z(),{resources:a}=(0,Ko.useContext)(ot),{data:s,refetch:u,isLoading:p}=_r({v3LegacyAuthProviderCompatible:!!(o!=null&&o.isLegacy),queryOptions:{enabled:!!n}}),d=(0,Jt.useMutation)(async c=>{var h,D,g,M,A;let m=me(c.resource,a),P=I((h=m==null?void 0:m.meta)==null?void 0:h.audit,(D=m==null?void 0:m.options)==null?void 0:D.audit,(M=(g=m==null?void 0:m.options)==null?void 0:g.auditLog)==null?void 0:M.permissions);if(P&&!fo(P,c.action))return;let C;return p&&(C=await u()),await((A=n.create)==null?void 0:A.call(n,{...c,author:s??(C==null?void 0:C.data)}))},e),l=(0,Jt.useMutation)(async c=>{var m;return await((m=n.update)==null?void 0:m.call(n,c))},{onSuccess:c=>{if(c!=null&&c.resource){let m=re(c==null?void 0:c.resource);r.invalidateQueries(m.logList())}},...t});return{log:d,rename:l}};var Is=x("react"),ws=x("@tanstack/react-query");var Sg=({resource:e,action:t,meta:r,author:n,metaData:o,queryOptions:a})=>{let{get:s}=(0,Is.useContext)(lt),u=re(e,void 0,o);return(0,ws.useQuery)(u.logList(r),()=>(s==null?void 0:s({resource:e,action:t,author:n,meta:r,metaData:o}))??Promise.resolve([]),{enabled:typeof s<"u",...a,retry:!1})};var Ss=x("react"),As=x("@tanstack/react-query");var Ve=()=>{let{resources:e}=B(),t=(0,As.useQueryClient)();return(0,Ss.useCallback)(({resource:n,dataProviderName:o,invalidates:a,id:s})=>{if(a===!1)return;let u=re(n,O(n,o,e));a.forEach(p=>{switch(p){case"all":t.invalidateQueries(u.all);break;case"list":t.invalidateQueries(u.list());break;case"many":t.invalidateQueries(u.many());break;case"resourceAll":t.invalidateQueries(u.resourceAll);break;case"detail":t.invalidateQueries(u.detail(s||""));break;default:break}})},[])};var Fs=x("react"),Qs=k(x("warn-once"));var Zg=({meta:e={}}={})=>{let t=j(),{i18nProvider:r}=(0,Fs.useContext)(Be),n=ye(),o=H(),{resources:a,resource:s,action:u}=B(),{options:{textTransformers:p}}=ce(),d=[];if(!(s!=null&&s.name))return{breadcrumbs:d};let l=c=>{var P,C,h,D,g,M;let m=typeof c=="string"?me(c,a,t==="legacy")??{name:c}:c;if(m){let A=I((P=m==null?void 0:m.meta)==null?void 0:P.parent,m==null?void 0:m.parentName);A&&l(A);let b=Re(m,a,t==="legacy").find(R=>R.action==="list"),i=(C=b==null?void 0:b.resource)!=null&&C.list?b==null?void 0:b.route:void 0,f=i?t==="legacy"?i:he(i,m==null?void 0:m.meta,n,e):void 0;d.push({label:I((h=m.meta)==null?void 0:h.label,(D=m.options)==null?void 0:D.label)??o(`${m.name}.${m.name}`,p.humanize(m.name)),href:f,icon:I((g=m.meta)==null?void 0:g.icon,(M=m.options)==null?void 0:M.icon,m.icon)})}};if(l(s),u&&u!=="list"){let c=`actions.${u}`,m=o(c);typeof r<"u"&&m===c?((0,Qs.default)(!0,`[useBreadcrumb]: Breadcrumb missing translate key for the "${u}" action. Please add "actions.${u}" key to your translation file.
For more information, see https://refine.dev/docs/api-reference/core/hooks/useBreadcrumb/#i18n-support`),d.push({label:o(`buttons.${u}`,p.humanize(u))})):d.push({label:o(c,p.humanize(u))})}return{breadcrumbs:d}};var Or=k(x("react"));var Et=(e,t,r=!1)=>{let n=[],o=Ie(e,t);for(;o;)n.push(o),o=Ie(o,t);return n.reverse(),`/${[...n,e].map(s=>Ce((r?s.route:void 0)??s.identifier??s.name)).join("/").replace(/^\//,"")}`};var ks=(e,t=!1)=>{let r={item:{name:"__root__"},children:{}};e.forEach(o=>{let a=[],s=Ie(o,e);for(;s;)a.push(s),s=Ie(s,e);a.reverse();let u=r;a.forEach(d=>{let l=(t?d.route:void 0)??d.identifier??d.name;u.children[l]||(u.children[l]={item:d,children:{}}),u=u.children[l]});let p=(t?o.route:void 0)??o.identifier??o.name;u.children[p]||(u.children[p]={item:o,children:{}})});let n=o=>{let a=[];return Object.keys(o.children).forEach(s=>{let u=Et(o.children[s].item,e,t),p={...o.children[s].item,key:u,children:n(o.children[s])};a.push(p)}),a};return n(r)};var Vs=e=>e.split("?")[0].split("#")[0].replace(/(.+)(\/$)/,"$1"),Ia=({meta:e,hideOnMissingParameter:t}={hideOnMissingParameter:!0})=>{let r=H(),n=zt(),o=j(),{resource:a,resources:s}=B(),{pathname:u}=ye(),{useLocation:p}=se(),{pathname:d}=p(),l=ht(),m=`/${((o==="legacy"?Vs(d):u?Vs(u):void 0)??"").replace(/^\//,"")}`,P=a?Et(a,s,o==="legacy"):m??"",C=Or.default.useMemo(()=>{if(!a)return[];let g=Ie(a,s),M=[Et(a,s)];for(;g;)M.push(Et(g,s)),g=Ie(g,s);return M},[]),h=Or.default.useCallback(g=>{var A,b,i,f,R,v;if((((A=g==null?void 0:g.meta)==null?void 0:A.hide)??((b=g==null?void 0:g.options)==null?void 0:b.hide))||!(g!=null&&g.list)&&g.children.length===0)return;let M=g.list?n({resource:g,action:"list",legacy:o==="legacy",meta:e}):void 0;if(!(t&&M&&M.match(/(\/|^):(.+?)(\/|$){1}/)))return{...g,route:M,icon:I((i=g.meta)==null?void 0:i.icon,(f=g.options)==null?void 0:f.icon,g.icon),label:I((R=g==null?void 0:g.meta)==null?void 0:R.label,(v=g==null?void 0:g.options)==null?void 0:v.label)??r(`${g.name}.${g.name}`,l(g.name,"plural"))}},[o,e,r,t]),D=Or.default.useMemo(()=>{let g=ks(s,o==="legacy"),M=A=>A.flatMap(b=>{let i=M(b.children),f=h({...b,children:i});return f?[f]:[]});return M(g)},[s,o,h]);return{defaultOpenKeys:C,selectedKey:P,menuItems:D}};var _=()=>{let{params:e}=ye();return({resource:r,meta:n}={})=>{let{meta:o}=Lt(r)??{meta:{}},{filters:a,sorters:s,current:u,pageSize:p,...d}=e??{};return{...o,...d,...n}}};var wa=()=>{let[e,t]=(0,We.useState)(),r=H(),{push:n}=de(),o=le(),a=j(),{resource:s,action:u}=B();return(0,We.useEffect)(()=>{s&&u&&t(r("pages.error.info",{action:u,resource:s.name},`You may have forgotten to add the "${u}" component to "${s.name}" resource.`))},[s,u]),We.default.createElement(We.default.Fragment,null,We.default.createElement("h1",null,r("pages.error.404",void 0,"Sorry, the page you visited does not exist.")),e&&We.default.createElement("p",null,e),We.default.createElement("button",{onClick:()=>{a==="legacy"?n("/"):o({to:"/"})}},r("pages.error.backHome",void 0,"Back Home")))};var ge=k(x("react"));var ho=()=>{let[e,t]=(0,ge.useState)(""),[r,n]=(0,ge.useState)(""),o=H(),a=z(),{mutate:s}=wt({v3LegacyAuthProviderCompatible:!!(a!=null&&a.isLegacy)});return ge.default.createElement(ge.default.Fragment,null,ge.default.createElement("h1",null,o("pages.login.title","Sign in your account")),ge.default.createElement("form",{onSubmit:u=>{u.preventDefault(),s({username:e,password:r})}},ge.default.createElement("table",null,ge.default.createElement("tbody",null,ge.default.createElement("tr",null,ge.default.createElement("td",null,o("pages.login.username",void 0,"username"),":"),ge.default.createElement("td",null,ge.default.createElement("input",{type:"text",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",autoFocus:!0,required:!0,value:e,onChange:u=>t(u.target.value)}))),ge.default.createElement("tr",null,ge.default.createElement("td",null,o("pages.login.password",void 0,"password"),":"),ge.default.createElement("td",null,ge.default.createElement("input",{type:"password",required:!0,size:20,value:r,onChange:u=>n(u.target.value)}))))),ge.default.createElement("br",null),ge.default.createElement("input",{type:"submit",value:"login"})))};var mt=k(x("react"));var te=k(x("react"));var Bs=({providers:e,registerLink:t,forgotPasswordLink:r,rememberMe:n,contentProps:o,wrapperProps:a,renderContent:s,formProps:u,title:p=void 0})=>{let d=j(),l=dt(),{Link:c}=se(),m=d==="legacy"?c:l,[P,C]=(0,te.useState)(""),[h,D]=(0,te.useState)(""),[g,M]=(0,te.useState)(!1),A=H(),b=z(),{mutate:i}=wt({v3LegacyAuthProviderCompatible:!!(b!=null&&b.isLegacy)}),f=(T,y)=>te.default.createElement(m,{to:T},y),R=()=>e?e.map(T=>te.default.createElement("div",{key:T.name,style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem"}},te.default.createElement("button",{onClick:()=>i({providerName:T.name}),style:{display:"flex",alignItems:"center"}},T==null?void 0:T.icon,T.label??te.default.createElement("label",null,T.label)))):null,v=te.default.createElement("div",{...o},te.default.createElement("h1",{style:{textAlign:"center"}},A("pages.login.title","Sign in to your account")),R(),te.default.createElement("hr",null),te.default.createElement("form",{onSubmit:T=>{T.preventDefault(),i({email:P,password:h,remember:g})},...u},te.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},te.default.createElement("label",{htmlFor:"email-input"},A("pages.login.fields.email","Email")),te.default.createElement("input",{id:"email-input",name:"email",type:"text",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:P,onChange:T=>C(T.target.value)}),te.default.createElement("label",{htmlFor:"password-input"},A("pages.login.fields.password","Password")),te.default.createElement("input",{id:"password-input",type:"password",name:"password",required:!0,size:20,value:h,onChange:T=>D(T.target.value)}),n??te.default.createElement(te.default.Fragment,null,te.default.createElement("label",{htmlFor:"remember-me-input"},A("pages.login.buttons.rememberMe","Remember me"),te.default.createElement("input",{id:"remember-me-input",name:"remember",type:"checkbox",size:20,checked:g,value:g.toString(),onChange:()=>{M(!g)}}))),te.default.createElement("br",null),r??f("/forgot-password",A("pages.login.buttons.forgotPassword","Forgot password?")),te.default.createElement("input",{type:"submit",value:A("pages.login.signin","Sign in")}),t??te.default.createElement("span",null,A("pages.login.buttons.noAccount","Don\u2019t have an account?")," ",f("/register",A("pages.login.register","Sign up"))))));return te.default.createElement("div",{...a},s?s(v,p):v)};var fe=k(x("react"));var Ns=({providers:e,loginLink:t,wrapperProps:r,contentProps:n,renderContent:o,formProps:a,title:s=void 0})=>{let u=j(),p=dt(),{Link:d}=se(),l=u==="legacy"?d:p,[c,m]=(0,fe.useState)(""),[P,C]=(0,fe.useState)(""),h=H(),D=z(),{mutate:g,isLoading:M}=eo({v3LegacyAuthProviderCompatible:!!(D!=null&&D.isLegacy)}),A=(f,R)=>fe.default.createElement(l,{to:f},R),b=()=>e?e.map(f=>fe.default.createElement("div",{key:f.name,style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem"}},fe.default.createElement("button",{onClick:()=>g({providerName:f.name}),style:{display:"flex",alignItems:"center"}},f==null?void 0:f.icon,f.label??fe.default.createElement("label",null,f.label)))):null,i=fe.default.createElement("div",{...n},fe.default.createElement("h1",{style:{textAlign:"center"}},h("pages.register.title","Sign up for your account")),b(),fe.default.createElement("hr",null),fe.default.createElement("form",{onSubmit:f=>{f.preventDefault(),g({email:c,password:P})},...a},fe.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},fe.default.createElement("label",{htmlFor:"email-input"},h("pages.register.fields.email","Email")),fe.default.createElement("input",{id:"email-input",name:"email",type:"email",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:c,onChange:f=>m(f.target.value)}),fe.default.createElement("label",{htmlFor:"password-input"},h("pages.register.fields.password","Password")),fe.default.createElement("input",{id:"password-input",name:"password",type:"password",required:!0,size:20,value:P,onChange:f=>C(f.target.value)}),fe.default.createElement("input",{type:"submit",value:h("pages.register.buttons.submit","Sign up"),disabled:M}),t??fe.default.createElement(fe.default.Fragment,null,fe.default.createElement("span",null,h("pages.login.buttons.haveAccount","Have an account?")," ",A("/login",h("pages.login.signin","Sign in")))))));return fe.default.createElement("div",{...r},o?o(i,s):i)};var ve=k(x("react"));var Hs=({loginLink:e,wrapperProps:t,contentProps:r,renderContent:n,formProps:o,title:a=void 0})=>{let s=H(),u=j(),p=dt(),{Link:d}=se(),l=u==="legacy"?d:p,[c,m]=(0,ve.useState)(""),{mutate:P,isLoading:C}=oo(),h=(g,M)=>ve.default.createElement(l,{to:g},M),D=ve.default.createElement("div",{...r},ve.default.createElement("h1",{style:{textAlign:"center"}},s("pages.forgotPassword.title","Forgot your password?")),ve.default.createElement("hr",null),ve.default.createElement("form",{onSubmit:g=>{g.preventDefault(),P({email:c})},...o},ve.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},ve.default.createElement("label",{htmlFor:"email-input"},s("pages.forgotPassword.fields.email","Email")),ve.default.createElement("input",{id:"email-input",name:"email",type:"mail",autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:c,onChange:g=>m(g.target.value)}),ve.default.createElement("input",{type:"submit",disabled:C,value:s("pages.forgotPassword.buttons.submit","Send reset instructions")}),ve.default.createElement("br",null),e??ve.default.createElement("span",null,s("pages.register.buttons.haveAccount","Have an account? ")," ",h("/login",s("pages.login.signin","Sign in"))))));return ve.default.createElement("div",{...t},n?n(D,a):D)};var De=k(x("react"));var Os=({wrapperProps:e,contentProps:t,renderContent:r,formProps:n,title:o=void 0})=>{let a=H(),s=z(),{mutate:u,isLoading:p}=ao({v3LegacyAuthProviderCompatible:!!(s!=null&&s.isLegacy)}),[d,l]=(0,De.useState)(""),[c,m]=(0,De.useState)(""),P=De.default.createElement("div",{...t},De.default.createElement("h1",{style:{textAlign:"center"}},a("pages.updatePassword.title","Update Password")),De.default.createElement("hr",null),De.default.createElement("form",{onSubmit:C=>{C.preventDefault(),u({password:d,confirmPassword:c})},...n},De.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},De.default.createElement("label",{htmlFor:"password-input"},a("pages.updatePassword.fields.password","New Password")),De.default.createElement("input",{id:"password-input",name:"password",type:"password",required:!0,size:20,value:d,onChange:C=>l(C.target.value)}),De.default.createElement("label",{htmlFor:"confirm-password-input"},a("pages.updatePassword.fields.confirmPassword","Confirm New Password")),De.default.createElement("input",{id:"confirm-password-input",name:"confirmPassword",type:"password",required:!0,size:20,value:c,onChange:C=>m(C.target.value)}),De.default.createElement("input",{type:"submit",disabled:p,value:a("pages.updatePassword.buttons.submit","Update")}))));return De.default.createElement("div",{...e},r?r(P,o):P)};var Sa=e=>{let{type:t}=e;return mt.default.createElement(mt.default.Fragment,null,(()=>{switch(t){case"register":return mt.default.createElement(Ns,{...e});case"forgotPassword":return mt.default.createElement(Hs,{...e});case"updatePassword":return mt.default.createElement(Os,{...e});default:return mt.default.createElement(Bs,{...e})}})())};var Le=k(x("react")),zo=()=>Le.default.createElement(Le.default.Fragment,null,Le.default.createElement("h1",null,"Welcome on board"),Le.default.createElement("p",null,"Your configuration is completed."),Le.default.createElement("p",null,"Now you can get started by adding your resources to the"," ",Le.default.createElement("code",null,"`resources`")," property of ",Le.default.createElement("code",null,"`<Refine>`")),Le.default.createElement("div",{style:{display:"flex",gap:8}},Le.default.createElement("a",{href:"https://refine.dev",target:"_blank",rel:"noreferrer"},Le.default.createElement("button",null,"Documentation")),Le.default.createElement("a",{href:"https://refine.dev/examples",target:"_blank",rel:"noreferrer"},Le.default.createElement("button",null,"Examples")),Le.default.createElement("a",{href:"https://discord.gg/refine",target:"_blank",rel:"noreferrer"},Le.default.createElement("button",null,"Community"))));var Y=k(x("react"));var Aa=[{title:"Documentation",description:"Learn about the technical details of using refine in your projects.",link:"https://refine.dev/",icon:Y.default.createElement("svg",{width:"14",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Y.default.createElement("path",{d:"M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V5a1 1 0 0 0-1-1H3a1 1 0 0 1 0-2h10a1 1 0 1 0 0-2H2Z",fill:"#fff"}))},{title:"Tutorial",description:"Learn how to use refine by building a fully-functioning CRUD app, from scratch to full launch.",link:"https://refine.dev/docs/tutorial/introduction/index/",icon:Y.default.createElement("svg",{width:"16",height:"14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Y.default.createElement("path",{d:"M0 4.573c0-.475.163-.948.53-1.25a4.57 4.57 0 0 1 .854-.553L5.956.485a4.571 4.571 0 0 1 4.088 0l4.572 2.285c.308.154.594.34.853.553.306.251.47.62.517 1.01.01.055.014.112.014.169v6.5a1 1 0 0 1-2 0V6.684l-3.956 1.978a4.571 4.571 0 0 1-4.088 0L1.384 6.376a4.57 4.57 0 0 1-.853-.553C.163 5.522 0 5.05 0 4.573Z",fill:"#fff"}),Y.default.createElement("path",{d:"M5.061 13.305 3 12.274V9.42l2.061 1.031a6.571 6.571 0 0 0 5.878 0L13 9.421v2.853l-2.061 1.03a6.571 6.571 0 0 1-5.878 0Z",fill:"#fff"}))},{title:"Examples",description:"A collection of reference applications you can use as a starting point.",link:"https://refine.dev/examples",icon:Y.default.createElement("svg",{width:"16",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Y.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4H0V2Zm3 2a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm4-1a1 1 0 1 1-2 0 1 1 0 0 1 2 0Zm2 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z",fill:"#fff"}),Y.default.createElement("path",{d:"M0 14V8h16v6a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2Z",fill:"#fff"}))},{title:"Community",description:"Join our Discord community and keep up with the latest news.",link:"https://discord.gg/refine",icon:Y.default.createElement("svg",{width:"16",height:"12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Y.default.createElement("path",{d:"M13.553 1.005A13.334 13.334 0 0 0 10.253 0c-.156.276-.298.56-.423.85a12.42 12.42 0 0 0-3.664 0A8.975 8.975 0 0 0 5.744 0 13.43 13.43 0 0 0 2.44 1.007C.351 4.066-.215 7.05.068 9.99A13.36 13.36 0 0 0 4.116 12c.328-.436.618-.9.867-1.384a8.647 8.647 0 0 1-1.365-.645c.115-.082.227-.167.335-.249a9.594 9.594 0 0 0 8.094 0c.11.089.222.173.335.25-.436.254-.894.47-1.368.646.249.484.539.946.867 1.382a13.3 13.3 0 0 0 4.051-2.01c.332-3.41-.568-6.365-2.379-8.985Zm-8.21 7.176c-.79 0-1.442-.709-1.442-1.58 0-.872.63-1.587 1.439-1.587s1.456.715 1.442 1.586c-.014.872-.636 1.58-1.44 1.58Zm5.315 0c-.79 0-1.44-.709-1.44-1.58 0-.872.63-1.587 1.44-1.587.81 0 1.452.715 1.438 1.586-.014.872-.634 1.58-1.438 1.58Z",fill:"#fff"}))}],Fa=()=>{let e=Pr("(max-width: 1010px)"),t=Pr("(max-width: 650px)"),r=()=>t?"1, 280px":e?"2, 280px":"4, 208px",n=()=>t?"32px":e?"40px":"48px",o=()=>t?"16px":e?"20px":"24px";return Y.default.createElement("div",{style:{backgroundImage:"url(https://refine.ams3.cdn.digitaloceanspaces.com/welcome-page/welcome-page.webp)",backgroundPosition:"center top",backgroundSize:"cover",backgroundRepeat:"no-repeat",minHeight:"100vh",backgroundColor:"#0D0D12",fontFamily:"Arial",color:"#FFFFFF"}},Y.default.createElement("div",{style:{height:"89px"}}),Y.default.createElement("div",{style:{display:"flex",justifyContent:"center"}},Y.default.createElement("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/welcome-page/welcome-logo.webp",width:"198",height:"54"})),Y.default.createElement("div",{style:{height:e?"270px":"22vw",minHeight:e?"270px":"313px"}}),Y.default.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"16px",textAlign:"center"}},Y.default.createElement("h1",{style:{fontSize:n(),fontWeight:700,margin:"0px"}},"Welcome Aboard!"),Y.default.createElement("h4",{style:{fontSize:o(),fontWeight:400,margin:"0px"}},"Your configuration is completed.")),Y.default.createElement("div",{style:{height:"64px"}}),Y.default.createElement("div",{style:{display:"grid",gridTemplateColumns:`repeat(${r()})`,justifyContent:"center",gap:"48px",paddingRight:"16px",paddingLeft:"16px",maxWidth:"976px",margin:"auto"}},Aa.map(a=>Y.default.createElement(Qa,{key:`welcome-page-${a.title}`,card:a}))),Y.default.createElement("div",{style:{height:"64px"}}))},Qa=({card:e})=>{let{title:t,description:r,icon:n,link:o}=e,[a,s]=(0,Y.useState)(!1);return Y.default.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"16px"}},Y.default.createElement("div",{style:{display:"flex",alignItems:"center"}},Y.default.createElement("a",{onPointerEnter:()=>s(!0),onPointerLeave:()=>s(!1),style:{display:"flex",alignItems:"center",color:"#fff",textDecoration:"none"},href:o},n,Y.default.createElement("span",{style:{fontSize:"16px",fontWeight:700,marginLeft:"13px",marginRight:"14px"}},t),Y.default.createElement("svg",{style:{transition:"transform 0.5s ease-in-out, opacity 0.2s ease-in-out",...a&&{transform:"translateX(4px)",opacity:1}},width:"12",height:"8",fill:"none",opacity:"0.5",xmlns:"http://www.w3.org/2000/svg"},Y.default.createElement("path",{d:"M7.293.293a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1 0 1.414l-3 3a1 1 0 0 1-1.414-1.414L8.586 5H1a1 1 0 0 1 0-2h7.586L7.293 1.707a1 1 0 0 1 0-1.414Z",fill:"#fff"})))),Y.default.createElement("span",{style:{fontSize:"12px",opacity:.5,lineHeight:"16px"}},r))};var Xt=x("@tanstack/react-query"),_s=x("@tanstack/react-query-devtools"),oe=k(x("react"));var Gs=x("react");var st=x("react");var ka="4.26.4",$s=()=>{let e=co(),t=(0,st.useContext)(lt),r=(0,st.useContext)(je),n=(0,st.useContext)(_t),o=(0,st.useContext)($t),{i18nProvider:a}=(0,st.useContext)(Be),s=(0,st.useContext)(Wt),u=(0,st.useContext)(nt),{resources:p}=B(),d=!!t.create||!!t.get||!!t.update,l=!!(r!=null&&r.publish)||!!(r!=null&&r.subscribe)||!!(r!=null&&r.unsubscribe),c=!!n.useHistory||!!n.Link||!!n.Prompt||!!n.useLocation||!!n.useParams,m=!!o,P=!!(a!=null&&a.changeLocale)||!!(a!=null&&a.getLocale)||!!(a!=null&&a.translate),C=!!s.close||!!s.open,h=!!u.can;return{providers:{auth:e,auditLog:d,live:l,router:c,data:m,i18n:P,notification:C,accessControl:h},version:ka,resourceCount:p.length}};var Va=e=>{let t=JSON.stringify(e||{});return typeof btoa<"u"?btoa(t):Buffer.from(t).toString("base64")},Ws=()=>{let e=$s();return(0,Gs.useEffect)(()=>{if(typeof window>"u"&&!Image)return;let t=new Image;t.src=`https://telemetry.refine.dev/telemetry?payload=${Va(e)}`},[]),null};var js=k(x("warn-once"));var Ks=e=>{let t=["go","parse","back","Link"],r=Object.keys(e).filter(o=>!t.includes(o));return r.length>0?(console.warn(`Unsupported properties are found in \`routerProvider\` prop. You provided \`${r.join(", ")}\`. Supported properties are \`${t.join(", ")}\`. You may wanted to use \`legacyRouterProvider\` prop instead.`),!0):!1};var _o=k(x("react")),zs=e=>{let t=_o.default.useRef(!1);_o.default.useEffect(()=>{t.current===!1&&e&&Ks(e)&&(t.current=!0)},[e])};var Ba=({legacyAuthProvider:e,authProvider:t,dataProvider:r,legacyRouterProvider:n,routerProvider:o,notificationProvider:a,accessControlProvider:s,auditLogProvider:u,resources:p,DashboardPage:d,ReadyPage:l,LoginPage:c,catchAll:m,children:P,liveProvider:C,i18nProvider:h,Title:D,Layout:g,Sider:M,Header:A,Footer:b,OffLayoutArea:i,onLiveEvent:f,options:R})=>{var U;let{optionsWithDefaults:v,disableTelemetryWithDefault:T,reactQueryWithDefaults:y}=bo({options:R}),L=Ur(()=>{var w;return y.clientConfig instanceof Xt.QueryClient?y.clientConfig:new Xt.QueryClient({...y.clientConfig,defaultOptions:{...y.clientConfig.defaultOptions,queries:{refetchOnWindowFocus:!1,keepPreviousData:!0,...(w=y.clientConfig.defaultOptions)==null?void 0:w.queries}}})},[y.clientConfig]),F=oe.default.useMemo(()=>typeof a=="function"?a:()=>a??{},[a])();if(zs(o),n&&!o&&(p??[]).length===0)return l?oe.default.createElement(l,null):oe.default.createElement(zo,null);let{RouterComponent:S=oe.default.Fragment}=o?{}:n??{};return typeof window<"u"&&((U=window==null?void 0:window.location)==null?void 0:U.hostname)==="localhost"&&(0,js.default)(!0,`%c
\u2705 Zero-trust security model
\u2705 User/role management
\u2705 Granular access control
\u2705 Directory sync
\u2705 VPN-less secure deployments
\u2705 Direct connection to DBs

Interested in any of the new backend features of refine? Join now and get early access -> https://s.refine.dev/go-enterprise`,"color: green; background: yellow; font-size: 17px"),oe.default.createElement(Xt.QueryClientProvider,{client:L},oe.default.createElement(ss,{...F},oe.default.createElement(nn,{...e??{},isProvided:!!e},oe.default.createElement(an,{...t??{},isProvided:!!t},oe.default.createElement(Nn,{...r},oe.default.createElement(On,{liveProvider:C},oe.default.createElement(jn,{value:n&&!o?"legacy":"new"},oe.default.createElement(Yn,{router:o},oe.default.createElement(Rs,{...n},oe.default.createElement(zn,{resources:p??[]},oe.default.createElement(us,{i18nProvider:h},oe.default.createElement(xs,{...s??{}},oe.default.createElement(Ms,{...u??{}},oe.default.createElement(Mo,null,oe.default.createElement(hn,{mutationMode:v.mutationMode,warnWhenUnsavedChanges:v.warnWhenUnsavedChanges,syncWithLocation:v.syncWithLocation,Title:D,undoableTimeout:v.undoableTimeout,catchAll:m,DashboardPage:d,LoginPage:c,Layout:g,Sider:M,Footer:b,Header:A,OffLayoutArea:i,hasDashboard:!!d,liveMode:v.liveMode,onLiveEvent:f,options:v},oe.default.createElement(En,null,oe.default.createElement(S,null,P,!T&&oe.default.createElement(Ws,null),oe.default.createElement(jo,null))))))))))))))))),y.devtoolConfig===!1?null:oe.default.createElement(_s.ReactQueryDevtools,{initialIsOpen:!1,position:"bottom-right",...y.devtoolConfig}))};var $r=x("react");var Fn=({notification:e})=>{let t=H(),{notificationDispatch:r}=$e(),{open:n}=Ee(),[o,a]=(0,$r.useState)(),s=()=>{if(e.isRunning===!0&&(e.seconds===0&&e.doMutation(),e.isSilent||n==null||n({key:`${e.id}-${e.resource}-notification`,type:"progress",message:t("notifications.undoable",{seconds:St(e.seconds)},`You have ${St(e.seconds)} seconds to undo`),cancelMutation:e.cancelMutation,undoableTimeout:St(e.seconds)}),e.seconds>0)){o&&clearTimeout(o);let u=setTimeout(()=>{r({type:"DECREASE_NOTIFICATION_SECOND",payload:{id:e.id,seconds:e.seconds,resource:e.resource}})},1e3);a(u)}};return(0,$r.useEffect)(()=>{s()},[e]),null};var Ut=k(x("react"));var Na=({children:e,Layout:t,Sider:r,Header:n,Title:o,Footer:a,OffLayoutArea:s})=>{let{Layout:u,Footer:p,Header:d,Sider:l,Title:c,OffLayoutArea:m}=ce();return Ut.default.createElement(t??u,{Sider:r??l,Header:n??d,Footer:a??p,Title:o??c,OffLayoutArea:s??m},e,Ut.default.createElement(Ha,null))},Ha=()=>{let{Prompt:e}=se(),t=H(),{warnWhen:r,setWarnWhen:n}=Vt(),o=a=>(a.preventDefault(),a.returnValue=t("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."),a.returnValue);return(0,Ut.useEffect)(()=>(r&&window.addEventListener("beforeunload",o),window.removeEventListener("beforeunload",o)),[r]),Ut.default.createElement(e,{when:r,message:t("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."),setWarnWhen:n})};var Me=k(x("react"));var Oa=()=>{let e=le(),[t,r]=Me.default.useState(void 0);return Me.default.useEffect(()=>{t&&e(t)},[t]),Me.default.useCallback(o=>{t||r(o)},[t])};function $a({redirectOnFail:e=!0,appendCurrentPathToQuery:t=!0,children:r,fallback:n,loading:o}){var v;let a=z(),s=j(),u=!!(a!=null&&a.isProvided),p=!!(a!=null&&a.isLegacy),d=s==="legacy",l=ye(),c=le(),m=Oa(),{replace:P}=de(),{useLocation:C}=se(),h=C(),{isLoading:D,isFetching:g,isSuccess:M,data:{authenticated:A,redirectTo:b}={},refetch:i}=nr({v3LegacyAuthProviderCompatible:p});Me.default.useEffect(()=>{i()},[r,n]);let f=Me.default.useRef({status:D?"initial":"pending",content:o??null});g?f.current.status="pending":g||(f.current.status="settled");let R=u?p?M:A:!0;if(f.current.status==="settled")if(R)f.current.content=Me.default.createElement(Me.default.Fragment,null,r??null);else if(typeof n<"u")f.current.content=Me.default.createElement(Me.default.Fragment,null,n);else{let T=`${d?h==null?void 0:h.pathname:l.pathname}`.replace(/(\?.*|#.*)$/,""),y=p?typeof e=="string"?e:"/login":typeof e=="string"?e:b;if(y)if(d){let L=t?`?to=${encodeURIComponent(T)}`:"";P(`${y}${L}`)}else m({to:y,query:t?{to:(v=l.params)!=null&&v.to?l.params.to:c({to:T,options:{keepQuery:!0},type:"path"})}:void 0,type:"replace"})}return u?Me.default.createElement(Me.default.Fragment,null,f.current.content):Me.default.createElement(Me.default.Fragment,null,r??null)}var Zs=x("react");var jo=()=>{let{useLocation:e}=se(),{checkAuth:t}=ne(),r=e();return(0,Zs.useEffect)(()=>{t==null||t().catch(()=>!1)},[r==null?void 0:r.pathname]),null};var ft=k(x("react"));var Ga=({resource:e,action:t,params:r,fallback:n,children:o,...a})=>{let{resource:s,id:u,action:p}=B(e),{identifier:d}=B(),c=(()=>{let P=(r==null?void 0:r.id)??u;return e&&e!==d?r==null?void 0:r.id:P})(),{data:m}=bs({resource:e??(s==null?void 0:s.name),action:t??p??"",params:r??{id:c,resource:s}});return m!=null&&m.can?ft.default.isValidElement(o)?ft.default.cloneElement(o,a):ft.default.createElement(ft.default.Fragment,null,o):(m==null?void 0:m.can)===!1?ft.default.createElement(ft.default.Fragment,null,n??null):null};var Xe=k(x("react"));var Ys=[`
    .banner {
        display: flex;
        @media (max-width: 1000px) {
            display: none;
        }
    }`,`
    .banner::before,
    .banner::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }
    `,`
    .banner::before {
        background-image: linear-gradient(
            270deg,
            rgba(255, 76, 77, 0.35) 0%,
            rgba(255, 153, 51, 0.35) 12.5%,
            rgba(255, 191, 0, 0.35) 25%,
            rgba(38, 217, 127, 0.35) 37.5%,
            rgba(71, 235, 235, 0.35) 50%,
            rgba(0, 128, 255, 0.35) 62.5%,
            rgba(51, 51, 255, 0.35) 75%,
            rgba(128, 0, 255, 0.35) 87.5%,
            rgba(237, 94, 201, 0.35) 100%
        );
        background-position: 0 0;
        background-size: 200% 100%;
        background-repeat: repeat-x;
        animation: bgpos 4s linear infinite;
      }
    `,`
    .banner::after {
        background: linear-gradient(
          180deg,
          rgba(13, 13, 13, 0.85) 0%,
          rgba(13, 13, 13, 0) 100%
        );
    }
    `,`
    @keyframes bgpos {
        0% {
            background-position: 0 0;
        }

        100% {
            background-position: -200% 0;
        }
    }
    `,`
    .gh-link, .gh-link:hover, .gh-link:active, .gh-link:visited, .gh-link:focus {
        text-decoration: none;
        z-index: 9;
    }
    `];var Wa=()=>((0,Xe.useEffect)(()=>{let e=document.createElement("style");document.head.appendChild(e),Ys.forEach(t=>{var r;return(r=e.sheet)==null?void 0:r.insertRule(t,e.sheet.cssRules.length)})},[]),Xe.default.createElement("div",{className:"banner",style:{flexDirection:"row",justifyContent:"center",alignItems:"center",position:"relative",padding:"8px 16px",backgroundColor:"#0d0d0d",borderBottom:"1px solid rgba(255, 255, 255, 0.15)"}},Xe.default.createElement("div",{style:{width:"200px"}}),Xe.default.createElement("a",{className:"gh-link",href:"https://s.refine.dev/github-support",target:"_blank",rel:"noreferrer"},Xe.default.createElement("div",{className:"content",style:{position:"relative",zIndex:2,color:"#fff",display:"flex",flexDirection:"row",gap:"8px"}},Xe.default.createElement("span",{className:"wizard",style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"32px",height:"32px",fontSize:"32px",lineHeight:"32px"}},"\u{1F9D9}\u200D\u2642\uFE0F"),Xe.default.createElement("span",{className:"text",style:{padding:"4px 0",fontSize:"16px",lineHeight:"24px",textShadow:"0px 0px 4px rgba(255, 255, 255, 0.5)"}},"refine grants your wishes! Please give us a \u2B50\uFE0F on GitHub to keep the magic going.")))));})();
//# sourceMappingURL=index.js.map